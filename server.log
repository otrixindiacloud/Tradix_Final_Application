
> rest-express@1.0.0 dev
> cross-env NODE_ENV=development DATABASE_URL="postgresql://neondb_owner:npg_4qUzlEaM3vPc@ep-small-moon-ad292p30.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require" tsx server/index.ts

[dotenv@17.2.2] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`
DATABASE_URL from env: SET
NODE_ENV: development
[STORAGE] Using modular database storage
[routes] material-requests alias router initializing
[dotenv@17.2.2] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
[DEBUG] stock-issues route loaded
‚úÖ Pricing routes registered
[INVOICE ROUTES] Registering invoice routes...
[EMAIL ROUTES] Registering email routes...
[STORAGE] ModularStorage initialized successfully
6:17:50 PM [express] serving on port 5000 (storage=load-error)
[DEBUG][REQ] GET /purchase-invoices/ae62dcc4-31b7-479e-87d3-7444ee440082
[DEBUG][REQ] GET /@vite/client
[DEBUG][REQ] GET /src/main.tsx?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /@react-refresh
[DEBUG][REQ] GET /src/App.tsx?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/index.css?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/lib/queryClient.ts
[DEBUG][REQ] GET /src/components/ui/toaster.tsx
[DEBUG][REQ] GET /src/components/ui/tooltip.tsx
[DEBUG][REQ] GET /src/components/ui/error-boundary.tsx
[DEBUG][REQ] GET /src/components/ai-assistant/ai-context.tsx
[DEBUG][REQ] GET /src/components/notifications/notification-context.tsx
[DEBUG][REQ] GET /src/pages/not-found.tsx
[DEBUG][REQ] GET /src/pages/items.tsx
[DEBUG][REQ] GET /src/pages/dashboard.tsx
[DEBUG][REQ] GET /src/pages/ai-demo.tsx
[DEBUG][REQ] GET /src/pages/enquiries.tsx
[DEBUG][REQ] GET /src/pages/enquiry-detail.tsx
[DEBUG][REQ] GET /src/pages/quotations.tsx
[DEBUG][REQ] GET /src/pages/quotation-detail.tsx
[DEBUG][REQ] GET /src/pages/quotation-new.tsx
[DEBUG][REQ] GET /src/pages/customer-acceptance.tsx
[DEBUG][REQ] GET /src/pages/customer-po-upload.tsx
[DEBUG][REQ] GET /src/pages/sales-orders.tsx
[DEBUG][REQ] GET /src/pages/sales-order-detail.tsx
[DEBUG][REQ] GET /src/pages/supplier-lpo.tsx
[DEBUG][REQ] GET /src/pages/goods-receipt.tsx
[DEBUG][REQ] GET /src/pages/inventory.tsx
[DEBUG][REQ] GET /src/pages/inventory-management.tsx
[DEBUG][REQ] GET /src/pages/physical-stock.tsx
[DEBUG][REQ] GET /src/pages/delivery-management.tsx
[DEBUG][REQ] GET /src/pages/delivery.tsx
[DEBUG][REQ] GET /src/pages/invoicing.tsx
[DEBUG][REQ] GET /src/pages/pricing-management.tsx
[DEBUG][REQ] GET /src/components/layout/main-layout.tsx
[DEBUG][REQ] GET /src/components/auth/auth-context.tsx
[DEBUG][REQ] GET /src/pages/login.tsx
[DEBUG][REQ] GET /src/pages/suppliers.tsx
[DEBUG][REQ] GET /src/pages/supplier-detail.tsx
[DEBUG][REQ] GET /src/pages/notifications.tsx
[DEBUG][REQ] GET /src/pages/recent-activities.tsx
[DEBUG][REQ] GET /src/pages/audit-logs.tsx
[DEBUG][REQ] GET /src/pages/user-management.tsx
[DEBUG][REQ] GET /src/pages/system-settings.tsx
[DEBUG][REQ] GET /src/pages/analytics.tsx
[DEBUG][REQ] GET /src/pages/export-data.tsx
[DEBUG][REQ] GET /src/pages/tally-integration.tsx
[DEBUG][REQ] GET /src/pages/customer-management.tsx
[DEBUG][REQ] GET /src/pages/customer-detail.tsx
[DEBUG][REQ] GET /src/pages/delivery-note.tsx
[DEBUG][REQ] GET /src/pages/notification-settings.tsx
[DEBUG][REQ] GET /src/pages/blue-theme-test.tsx
[DEBUG][REQ] GET /src/pages/process-flow-details.tsx
[DEBUG][REQ] GET /src/pages/workflow-dashboard.tsx
[DEBUG][REQ] GET /src/pages/workflow.tsx
[DEBUG][REQ] GET /src/pages/requisitions.tsx
[DEBUG][REQ] GET /src/pages/requisition-detail.tsx
[DEBUG][REQ] GET /src/pages/supplier-quotes.tsx
[DEBUG][REQ] GET /src/pages/supplier-quote-detail.tsx
[DEBUG][REQ] GET /src/pages/shipment-tracking.tsx
[DEBUG][REQ] GET /src/pages/shipment-detail.tsx
[DEBUG][REQ] GET /src/pages/purchase-invoices.tsx
[DEBUG][REQ] GET /src/pages/purchase-invoice-detail.tsx
[DEBUG][REQ] GET /src/pages/material-requests.tsx
[DEBUG][REQ] GET /src/pages/receipts.tsx
[DEBUG][REQ] GET /src/pages/stock-issues.tsx
[DEBUG][REQ] GET /src/pages/receipt-returns.tsx
[DEBUG][REQ] GET /src/pages/stock-transfer.tsx
[DEBUG][REQ] GET /src/pages/standalone-invoice.tsx
[DEBUG][REQ] GET /src/components/ui/button.tsx
[DEBUG][REQ] GET /src/components/ui/card.tsx
[DEBUG][REQ] GET /@fs/home/dheeraj-prajapat/Downloads/td1-main/node_modules/vite/dist/client/env.mjs
[DEBUG][REQ] GET /src/hooks/use-toast.ts
[DEBUG][REQ] GET /src/components/ui/toast.tsx
[DEBUG][REQ] GET /src/lib/utils.ts
[DEBUG][REQ] GET /src/components/ui/select.tsx
[DEBUG][REQ] GET /src/components/workflow/workflow-stepper.tsx
[DEBUG][REQ] GET /src/components/workflow/workflow-progress-tracker.tsx
[DEBUG][REQ] GET /src/components/tables/data-table.tsx
[DEBUG][REQ] GET /src/components/ai-assistant/ai-insights-widget.tsx
[DEBUG][REQ] GET /src/components/notifications/notification-demo.tsx
[DEBUG][REQ] GET /src/components/ui/badge.tsx
[DEBUG][REQ] GET /src/components/notifications/notification-demo-enhanced.tsx
[DEBUG][REQ] GET /src/components/forms/enquiry-form.tsx
[DEBUG][REQ] GET /src/components/enquiry/enquiry-filters.tsx
[DEBUG][REQ] GET /src/components/ui/dialog.tsx
[DEBUG][REQ] GET /src/components/ui/alert-dialog.tsx
[DEBUG][REQ] GET /src/components/ui/separator.tsx
[DEBUG][REQ] GET /src/components/ui/tabs.tsx
[DEBUG][REQ] GET /src/components/enquiry/enquiry-items-manager.tsx
[DEBUG][REQ] GET /src/components/enquiry/attachment-manager.tsx
[DEBUG][REQ] GET /src/hooks/useUserId.ts
[DEBUG][REQ] GET /src/components/ui/input.tsx
[DEBUG][REQ] GET /src/components/ui/dropdown-menu.tsx
[DEBUG][REQ] GET /src/components/ui/label.tsx
[DEBUG][REQ] GET /src/components/ui/textarea.tsx
[DEBUG][REQ] GET /src/components/ui/table.tsx
[DEBUG][REQ] GET /src/components/email/EmailSendButton.tsx
[DEBUG][REQ] GET /src/components/status/status-pill.tsx
[DEBUG][REQ] GET /src/components/quotation/quotation-items-manager.tsx
[DEBUG][REQ] GET /src/components/forms/quotation-form.tsx
[DEBUG][REQ] GET /src/components/forms/customer-acceptance-form.tsx
[DEBUG][REQ] GET /src/components/forms/purchase-order-upload.tsx
[DEBUG][REQ] GET /src/components/acceptance/acceptance-history.tsx
[DEBUG][REQ] GET /src/components/ui/confirmation-dialog.tsx
[DEBUG][REQ] GET /src/components/ui/loading-spinner.tsx
[DEBUG][REQ] GET /src/pages/EditLpoDialog.tsx
[DEBUG][REQ] GET /src/components/ui/form.tsx
[DEBUG][REQ] GET /src/hooks/usePhysicalStock.ts
[DEBUG][REQ] GET /src/components/layout/header.tsx
[DEBUG][REQ] GET /src/components/layout/sidebar.tsx
[DEBUG][REQ] GET /src/components/ai-assistant/ai-assistant.tsx
[DEBUG][REQ] GET /src/components/ui/scroll-area.tsx
[DEBUG][REQ] GET /@fs/home/dheeraj-prajapat/Downloads/td1-main/node_modules/react-calendar/dist/Calendar.css
[DEBUG][REQ] GET /src/components/ui/calendar.tsx
[DEBUG][REQ] GET /src/components/ui/popover.tsx
[DEBUG][REQ] GET /src/components/ui/switch.tsx
[DEBUG][REQ] GET /src/components/ui/progress.tsx
[DEBUG][REQ] GET /src/components/ui/checkbox.tsx
[DEBUG][REQ] GET /src/components/ui/alert.tsx
[DEBUG][REQ] GET /src/components/forms/customer-form-dialog.tsx
[DEBUG][REQ] GET /@fs/home/dheeraj-prajapat/Downloads/td1-main/shared/utils/uuid.ts
[DEBUG][REQ] GET /src/lib/constants.ts
[DEBUG][REQ] GET /src/components/workflow/workflow-step-completion.tsx
[DEBUG][REQ] GET /src/components/workflow/workflow-navigation.tsx
[DEBUG][REQ] GET /src/components/ui/stats-card.tsx
[DEBUG][REQ] GET /src/components/ui/skeleton.tsx
[DEBUG][REQ] GET /src/lib/enhanced-workflow-constants.ts
[DEBUG][REQ] GET /src/components/email/EmailSendDialog.tsx
[DEBUG][REQ] GET /src/components/ui/radio-group.tsx
[DEBUG][REQ] GET /src/components/acceptance/item-acceptance-list.tsx
[DEBUG][REQ] GET /src/components/ai-assistant/ai-chat-interface.tsx
[DEBUG][REQ] GET /src/lib/email-service.ts
[DEBUG][REQ] GET /src/components/ui/avatar.tsx
[DEBUG][REQ] GET /src/components/ai-assistant/voice-controls.tsx
[DEBUG][REQ] GET /src/lib/emailjs-config.ts
[DEBUG][REQ] GET /api/auth/me
[DEBUG][REQ] GET /favicon.ico
6:18:52 PM [express] GET /api/auth/me 304 in 844ms :: {"user":{"id":"8bcd3a5f-10fc-4491-9258-a62b5bf‚Ä¶
[DEBUG][REQ] GET /api/purchase-invoices/ae62dcc4-31b7-479e-87d3-7444ee440082
[PurchaseInvoiceStorage.getPurchaseInvoice][START] { id: 'ae62dcc4-31b7-479e-87d3-7444ee440082' }
[PurchaseInvoiceStorage.getPurchaseInvoice][SUCCESS] { id: 'ae62dcc4-31b7-479e-87d3-7444ee440082' }
6:18:52 PM [express] GET /api/purchase-invoices/ae62dcc4-31b7-479e-87d3-7444ee440082 304 in 293ms ::‚Ä¶
[DEBUG][REQ] GET /api/goods-receipt-headers/9c777f3d-7650-4453-8868-77e8b67e2a69/items
6:18:52 PM [express] GET /api/goods-receipt-headers/9c777f3d-7650-4453-8868-77e8b67e2a69/items 304 i‚Ä¶
[DEBUG][REQ] GET /api/purchase-invoices/ae62dcc4-31b7-479e-87d3-7444ee440082/pdf?mode=enhanced
[PurchaseInvoiceStorage.getPurchaseInvoice][START] { id: 'ae62dcc4-31b7-479e-87d3-7444ee440082' }
[PurchaseInvoiceStorage.getPurchaseInvoice][SUCCESS] { id: 'ae62dcc4-31b7-479e-87d3-7444ee440082' }
Of the table content, 86 units width could not fit page
6:19:26 PM [express] GET /api/purchase-invoices/ae62dcc4-31b7-479e-87d3-7444ee440082/pdf 200 in 4677‚Ä¶
[DEBUG][REQ] GET /api/purchase-invoices/ae62dcc4-31b7-479e-87d3-7444ee440082/pdf?mode=enhanced
[PurchaseInvoiceStorage.getPurchaseInvoice][START] { id: 'ae62dcc4-31b7-479e-87d3-7444ee440082' }
[PurchaseInvoiceStorage.getPurchaseInvoice][SUCCESS] { id: 'ae62dcc4-31b7-479e-87d3-7444ee440082' }
Of the table content, 86 units width could not fit page
6:19:45 PM [express] GET /api/purchase-invoices/ae62dcc4-31b7-479e-87d3-7444ee440082/pdf 200 in 2239‚Ä¶
6:20:12 PM [vite] hmr update /src/pages/purchase-invoice-detail.tsx, /src/index.css?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/pages/purchase-invoice-detail.tsx?t=1759582212928
[DEBUG][REQ] GET /src/index.css?t=1759582212928&v=docpiSywZ2otdXAX-Rwrw
6:20:14 PM [vite] hmr update /src/pages/purchase-invoice-detail.tsx, /src/index.css?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/pages/purchase-invoice-detail.tsx?t=1759582214680
[DEBUG][REQ] GET /src/index.css?t=1759582214680&v=docpiSywZ2otdXAX-Rwrw
6:20:16 PM [vite] hmr update /src/pages/purchase-invoice-detail.tsx, /src/index.css?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/pages/purchase-invoice-detail.tsx?t=1759582216121
[DEBUG][REQ] GET /src/index.css?t=1759582216121&v=docpiSywZ2otdXAX-Rwrw
6:20:16 PM [vite] hmr update /src/pages/purchase-invoice-detail.tsx, /src/index.css?v=docpiSywZ2otdXAX-Rwrw
6:20:17 PM [vite] hmr update /src/pages/purchase-invoice-detail.tsx, /src/index.css?v=docpiSywZ2otdXAX-Rwrw
6:20:17 PM [vite] hmr update /src/pages/purchase-invoice-detail.tsx, /src/index.css?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/pages/purchase-invoice-detail.tsx?t=1759582216327
[DEBUG][REQ] GET /src/index.css?t=1759582216327&v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/pages/purchase-invoice-detail.tsx?t=1759582217377
[DEBUG][REQ] GET /src/index.css?t=1759582217377&v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/pages/purchase-invoice-detail.tsx?t=1759582217531
[DEBUG][REQ] GET /src/index.css?t=1759582217531&v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /api/workflow/progress
getEnquiries called with: { limit: 50, offset: 0, filters: undefined }
Executing query...
[DEBUG][REQ] GET /api/supplier-lpo?limit=5
[DEBUG][REQ] GET /api/workflow/analytics?period=30d
getEnquiries called with: { limit: 50, offset: 0, filters: undefined }
Executing query...
[DEBUG][REQ] GET /api/customers
[DEBUG][REQ] GET /api/dashboard/stats
getEnquiries called with: { limit: 100, offset: 0, filters: undefined }
Executing query...
[DEBUG][REQ] GET /api/enquiries?limit=5
getEnquiries called with: { limit: 5, offset: 0, filters: undefined }
Executing query...
Query result: 50 enquiries found
Query result: 100 enquiries found
Query result: 50 enquiries found
6:20:22 PM [express] GET /api/customers 304 in 891ms :: {"customers":[{"id":"38773acb-4217-4d1c-986b‚Ä¶
[DEBUG][REQ] GET /api/sales-orders?limit=5
6:20:22 PM [express] GET /api/sales-orders 304 in 307ms :: [{"id":"547f2073-3e56-4193-8494-06f6dd230‚Ä¶
[DEBUG][REQ] GET /api/quotations?limit=5
6:20:22 PM [express] GET /api/workflow/progress 200 in 1469ms :: [{"id":"workflow-enquiry-c5d9a62f-4‚Ä¶
6:20:23 PM [express] GET /api/workflow/analytics 304 in 1463ms :: {"totalWorkflows":150,"completedWo‚Ä¶
[DEBUG][REQ] GET /api/supplier-quotes?limit=5
SupplierQuoteStorage.list called with params: { page: 1, limit: 5 }
Executing query: 
        SELECT 
          sq.id,
          sq.quote_number as "quoteNumber",
          sq.supplier_id as "supplierId",
          sq.status,
          sq.priority,
          sq.quote_date as "quoteDate",
          sq.valid_until as "validUntil",
          sq.request_date as "requestDate",
          sq.response_date as "responseDate",
          sq.subtotal,
          sq.discount_percentage as "discountPercentage",
          sq.discount_amount as "discountAmount",
          sq.tax_amount as "taxAmount",
          sq.total_amount as "totalAmount",
          sq.currency,
          sq.terms,
          sq.notes,
          sq.requisition_id as "requisitionId",
          sq.payment_terms as "paymentTerms",
          sq.delivery_terms as "deliveryTerms",
          sq.rfq_number as "rfqNumber",
          sq.evaluation_score as "evaluationScore",
          sq.competitive_rank as "competitiveRank",
          sq.is_preferred_supplier as "isPreferredSupplier",
          sq.created_by as "createdBy",
          sq.created_at as "createdAt",
          sq.updated_at as "updatedAt",
          s.id as "supplierId",
          s.name as "supplierName",
          s.email as "supplierEmail",
          s.phone as "supplierPhone",
          s.address as "supplierAddress",
          s.contact_person as "supplierContactPerson"
        FROM supplier_quotes sq
        LEFT JOIN suppliers s ON sq.supplier_id = s.id
        
        ORDER BY sq.created_at DESC
        LIMIT $1 OFFSET $2
      
Query params: [ 5, 0 ]
[DEBUG][REQ] GET /api/shipments?limit=5
6:20:23 PM [express] GET /api/quotations 304 in 297ms :: [{"id":"b148b748-dd28-4f30-8dc0-f123905819e‚Ä¶
[DEBUG][REQ] GET /favicon.ico
Query result: 5 enquiries found
6:20:23 PM [express] GET /api/enquiries 304 in 1659ms :: [{"id":"c5d9a62f-4f5c-4ede-8a06-5c960530f59‚Ä¶
[DEBUG][REQ] GET /api/customers?offset=0&limit=15&customerType=all&classification=all&isActive=all&search=
6:20:23 PM [express] GET /api/shipments 304 in 289ms :: [{"id":"67c06923-cb82-46ea-bb41-8e12b5323dc1‚Ä¶
[DEBUG][REQ] GET /api/customers/stats
Query result rows: 5
6:20:23 PM [express] GET /api/customers/stats 304 in 285ms :: {"totalCustomers":207,"activeCustomers‚Ä¶
6:20:23 PM [express] GET /api/supplier-quotes 304 in 581ms :: {"data":[{"id":"b5eb9f1f-3b42-4d13-827‚Ä¶
[DEBUG][REQ] GET /favicon.ico
6:20:23 PM [express] GET /api/supplier-lpo 404 in 2202ms
6:20:23 PM [express] GET /api/customers 304 in 573ms :: {"customers":[{"id":"38773acb-4217-4d1c-986b‚Ä¶
6:20:23 PM [express] GET /api/dashboard/stats 304 in 2267ms :: {"activeEnquiries":79,"pendingQuotes"‚Ä¶
[DEBUG][REQ] POST /api/customers
Creating customer with data: {
  "name": "Consistent",
  "customerType": "Retail",
  "classification": "Individual",
  "isActive": true,
  "email": "consistent@gmail.com",
  "phone": "9878565878746",
  "address": "india",
  "paymentTerms": "Net 30"
}
Parsed customer data: {
  "name": "Consistent",
  "email": "consistent@gmail.com",
  "phone": "9878565878746",
  "address": "india",
  "customerType": "Retail",
  "classification": "Individual",
  "paymentTerms": "Net 30",
  "isActive": true
}
Customer created successfully: 1c2deb32-4caf-48ad-9dcc-13d1c84ad45e
6:20:56 PM [express] POST /api/customers 201 in 2635ms :: {"id":"1c2deb32-4caf-48ad-9dcc-13d1c84ad45‚Ä¶
[DEBUG][REQ] GET /api/customers?offset=0&limit=15&customerType=all&classification=all&isActive=all&search=
[DEBUG][REQ] GET /api/customers/stats
6:20:57 PM [express] GET /api/customers 200 in 586ms :: {"customers":[{"id":"1c2deb32-4caf-48ad-9dcc‚Ä¶
6:20:58 PM [express] GET /api/customers/stats 200 in 2173ms :: {"totalCustomers":208,"activeCustomer‚Ä¶
[DEBUG][REQ] GET /api/customers
[DEBUG][REQ] GET /api/enquiries?
getEnquiries called with: { limit: 50, offset: 0, filters: undefined }
Executing query...
[DEBUG][REQ] GET /favicon.ico
Query result: 50 enquiries found
6:21:17 PM [express] GET /api/enquiries 304 in 1920ms :: [{"id":"c5d9a62f-4f5c-4ede-8a06-5c960530f59‚Ä¶
6:21:17 PM [express] GET /api/customers 200 in 2161ms :: {"customers":[{"id":"1c2deb32-4caf-48ad-9dc‚Ä¶
[DEBUG][REQ] POST /api/enquiries
Received enquiry data: {
  customerId: '1c2deb32-4caf-48ad-9dcc-13d1c84ad45e',
  source: 'Web Form',
  targetDeliveryDate: '2025-10-05T00:00:00.000Z'
}
insertEnquirySchema shape: {
  customerId: ZodString {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: { checks: [Array], typeName: 'ZodString', coerce: false },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  },
  enquiryDate: ZodOptional {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: {
      innerType: [ZodNullable],
      typeName: 'ZodOptional',
      errorMap: [Function: customMap],
      description: undefined
    },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  },
  status: ZodOptional {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: {
      innerType: [ZodNullable],
      typeName: 'ZodOptional',
      errorMap: [Function: customMap],
      description: undefined
    },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  },
  source: ZodEnum {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: { values: [Array], typeName: 'ZodEnum' },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  },
  targetDeliveryDate: ZodOptional {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: {
      innerType: [ZodString],
      typeName: 'ZodOptional',
      errorMap: [Function: customMap],
      description: undefined
    },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  },
  notes: ZodOptional {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: {
      innerType: [ZodNullable],
      typeName: 'ZodOptional',
      errorMap: [Function: customMap],
      description: undefined
    },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  },
  attachments: ZodOptional {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: {
      innerType: [ZodNullable],
      typeName: 'ZodOptional',
      errorMap: [Function: customMap],
      description: undefined
    },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  },
  createdBy: ZodOptional {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: {
      innerType: [ZodString],
      typeName: 'ZodOptional',
      errorMap: [Function: customMap],
      description: undefined
    },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  }
}
Creating enquiry with data: {
  customerId: '1c2deb32-4caf-48ad-9dcc-13d1c84ad45e',
  source: 'Web Form',
  targetDeliveryDate: '2025-10-05T00:00:00.000Z'
}
Generated enquiry number: ENQ-2024-175
Processed data: {
  customerId: '1c2deb32-4caf-48ad-9dcc-13d1c84ad45e',
  source: 'Web Form',
  targetDeliveryDate: 2025-10-05T00:00:00.000Z,
  enquiryNumber: 'ENQ-2024-175'
}
Created enquiry: {
  id: '776fbee8-566b-4f6c-a103-0fb650ad64af',
  enquiryNumber: 'ENQ-2024-175',
  customerId: '1c2deb32-4caf-48ad-9dcc-13d1c84ad45e',
  enquiryDate: 2025-10-04T12:51:26.762Z,
  status: 'New',
  source: 'Web Form',
  targetDeliveryDate: 2025-10-05T00:00:00.000Z,
  notes: null,
  attachments: null,
  createdBy: null,
  createdAt: 2025-10-04T12:51:26.762Z,
  updatedAt: 2025-10-04T12:51:26.762Z
}
6:21:26 PM [express] POST /api/enquiries 201 in 840ms :: {"id":"776fbee8-566b-4f6c-a103-0fb650ad64af‚Ä¶
[DEBUG][REQ] GET /api/enquiries?
getEnquiries called with: { limit: 50, offset: 0, filters: undefined }
Executing query...
Query result: 50 enquiries found
6:21:27 PM [express] GET /api/enquiries 200 in 550ms :: [{"id":"776fbee8-566b-4f6c-a103-0fb650ad64af‚Ä¶
[DEBUG][REQ] GET /api/suppliers
[DEBUG][REQ] GET /api/auth/me
[DEBUG][REQ] GET /api/enquiries/776fbee8-566b-4f6c-a103-0fb650ad64af
[DEBUG][REQ] GET /favicon.ico
6:21:29 PM [express] GET /api/suppliers 304 in 278ms :: [{"id":"f4161276-5f20-465a-bbfc-8389bd9f1acc‚Ä¶
6:21:31 PM [express] GET /api/enquiries/776fbee8-566b-4f6c-a103-0fb650ad64af 200 in 1938ms :: {"id":‚Ä¶
[DEBUG][REQ] GET /api/customers/1c2deb32-4caf-48ad-9dcc-13d1c84ad45e
6:21:31 PM [express] GET /api/customers/1c2deb32-4caf-48ad-9dcc-13d1c84ad45e 200 in 277ms :: {"id":"‚Ä¶
6:21:32 PM [express] GET /api/auth/me 304 in 3019ms :: {"user":{"id":"8bcd3a5f-10fc-4491-9258-a62b5b‚Ä¶
[DEBUG][REQ] GET /api/enquiries/776fbee8-566b-4f6c-a103-0fb650ad64af/items
[DEBUG][REQ] GET /api/items
6:21:39 PM [express] GET /api/enquiries/776fbee8-566b-4f6c-a103-0fb650ad64af/items 200 in 276ms :: []
6:21:39 PM [express] GET /api/items 304 in 285ms :: [{"id":"550e8400-e29b-41d4-a716-446655440102","s‚Ä¶
[DEBUG][REQ] POST /api/enquiry-items
6:22:10 PM [express] POST /api/enquiry-items 201 in 1903ms :: {"id":"a8f7bf0a-e1a4-4479-bd02-b47bc49‚Ä¶
[DEBUG][REQ] GET /api/enquiries/776fbee8-566b-4f6c-a103-0fb650ad64af/items
6:22:10 PM [express] GET /api/enquiries/776fbee8-566b-4f6c-a103-0fb650ad64af/items 200 in 276ms :: [‚Ä¶
[DEBUG][REQ] POST /api/quotations/generate/776fbee8-566b-4f6c-a103-0fb650ad64af
[QUOTATION ROUTE DEBUG] {
  method: 'POST',
  url: '/api/quotations/generate/776fbee8-566b-4f6c-a103-0fb650ad64af',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'content-length': '49',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'content-type': 'application/json',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    origin: 'http://localhost:5000',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/enquiries/776fbee8-566b-4f6c-a103-0fb650ad64af',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: { userId: 'e459998e-0a4d-4652-946e-44b2ba161d16' },
  params: { id: 'generate' }
}
Generating quotation for enquiry: 776fbee8-566b-4f6c-a103-0fb650ad64af
generateQuotationFromEnquiry called with: {
  enquiryId: '776fbee8-566b-4f6c-a103-0fb650ad64af',
  userId: 'e459998e-0a4d-4652-946e-44b2ba161d16'
}
Retrieved enquiry and customer: {
  enquiry: { id: '776fbee8-566b-4f6c-a103-0fb650ad64af', notes: null },
  customer: {
    id: '1c2deb32-4caf-48ad-9dcc-13d1c84ad45e',
    name: 'Consistent',
    customerType: 'Retail'
  }
}
Retrieved enquiry items: 1 items
Creating quotation with data: {
  customerId: '1c2deb32-4caf-48ad-9dcc-13d1c84ad45e',
  customerType: 'Retail',
  enquiryId: '776fbee8-566b-4f6c-a103-0fb650ad64af',
  status: 'Draft',
  validUntil: 2025-11-03T12:52:15.248Z,
  subtotal: '0',
  discountPercentage: '0',
  discountAmount: '0',
  taxAmount: '0',
  totalAmount: '0',
  notes: 'Generated from enquiry ENQ-2024-175',
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16'
}
Successfully created quotation: {
  id: 'dc5c6bd1-1798-4a30-af35-f9a632471037',
  quoteNumber: 'QT-335249CW7N',
  revision: 1,
  parentQuotationId: null,
  revisionReason: null,
  supersededAt: null,
  supersededBy: null,
  isSuperseded: false,
  enquiryId: '776fbee8-566b-4f6c-a103-0fb650ad64af',
  customerId: '1c2deb32-4caf-48ad-9dcc-13d1c84ad45e',
  customerType: 'Retail',
  status: 'Draft',
  quoteDate: 2025-10-04T12:52:15.691Z,
  validUntil: 2025-11-03T12:52:15.248Z,
  subtotal: '0.00',
  discountPercentage: '0.00',
  discountAmount: '0.00',
  taxAmount: '0.00',
  totalAmount: '0.00',
  terms: null,
  notes: 'Generated from enquiry ENQ-2024-175',
  approvalStatus: 'Pending',
  requiredApprovalLevel: null,
  approvedBy: null,
  approvedAt: null,
  rejectionReason: null,
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  createdAt: 2025-10-04T12:52:15.526Z,
  updatedAt: 2025-10-04T12:52:15.526Z
}
Creating quotation item (fallback pricing): {
  quotationId: 'dc5c6bd1-1798-4a30-af35-f9a632471037',
  description: 'movie',
  quantity: 100,
  costPrice: 100,
  markup: 70,
  unitPrice: 170,
  lineTotal: 17000,
  notes: ''
}
Updating quotation totals: { subtotal: '17000.00', totalAmount: '17000.00' }
Error logging audit event: error: invalid input syntax for type uuid: "system"
    at file:///home/dheeraj-prajapat/Downloads/td1-main/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async QuotationStorage.logAuditEvent (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/base.ts:28:7)
    at async QuotationStorage.updateQuotation (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/quotation-storage.ts:239:5)
    at async QuotationStorage.generateQuotationFromEnquiry (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/quotation-storage.ts:412:9)
    at async <anonymous> (/home/dheeraj-prajapat/Downloads/td1-main/server/routes/quotations.ts:200:25) {
  length: 138,
  severity: 'ERROR',
  code: '22P02',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: "unnamed portal parameter $6 = '...'",
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'uuid.c',
  line: '133',
  routine: 'string_to_uuid'
}
Successfully generated quotation with items from enquiry
Quotation generated successfully: dc5c6bd1-1798-4a30-af35-f9a632471037
6:22:18 PM [express] POST /api/quotations/generate/776fbee8-566b-4f6c-a103-0fb650ad64af 201 in 4195m‚Ä¶
[DEBUG][REQ] GET /api/customers/1c2deb32-4caf-48ad-9dcc-13d1c84ad45e
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/items
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/items',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
Fetching quotation items for quotation ID: dc5c6bd1-1798-4a30-af35-f9a632471037
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/history
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/history',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
6:22:18 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/history 200 in 2ms :: ‚Ä¶
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] GET /api/customers
6:22:19 PM [express] GET /api/customers/1c2deb32-4caf-48ad-9dcc-13d1c84ad45e 304 in 292ms :: {"id":"‚Ä¶
6:22:20 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions 200 in 1637m‚Ä¶
6:22:20 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037 200 in 1663ms :: {"id"‚Ä¶
Found quotation items: 1
6:22:20 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/items 200 in 1674ms ::‚Ä¶
6:22:21 PM [express] GET /api/customers 304 in 2109ms :: {"customers":[{"id":"1c2deb32-4caf-48ad-9dc‚Ä¶
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] POST /api/customer-quotes
Validating suppliers: [ '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f' ]
6:22:26 PM [express] POST /api/customer-quotes 201 in 1365ms :: {"message":"Quote request sent succe‚Ä¶
[DEBUG][REQ] GET /api/quotations?
[DEBUG][REQ] GET /favicon.ico
6:22:30 PM [express] GET /api/quotations 200 in 544ms :: [{"id":"dc5c6bd1-1798-4a30-af35-f9a63247103‚Ä¶
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"398-E45YtY7daQ4RXXzT2ERMIjnWIY8"'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/items
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/items',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"13a-rOl3gt171S1nXn3RpkOZFMlcdw4"'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
Fetching quotation items for quotation ID: dc5c6bd1-1798-4a30-af35-f9a632471037
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/history
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/history',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
6:22:32 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/history 304 in 1ms :: ‚Ä¶
[DEBUG][REQ] GET /favicon.ico
Found quotation items: 1
6:22:32 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/items 304 in 269ms :: ‚Ä¶
6:22:32 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037 304 in 296ms :: {"id":‚Ä¶
6:22:33 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions 304 in 1722m‚Ä¶
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
6:22:34 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions 304 in 293ms‚Ä¶
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"398-E45YtY7daQ4RXXzT2ERMIjnWIY8"'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
6:22:34 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037 304 in 296ms :: {"id":‚Ä¶
[DEBUG][REQ] PUT /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037
[QUOTATION ROUTE DEBUG] {
  method: 'PUT',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'content-length': '49',
    'x-user-role': 'admin',
    'sec-ch-ua-platform': '"Linux"',
    'x-user-id': '8bcd3a5f-10fc-4491-9258-a62b5bfde36e',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'content-type': 'application/json',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    origin: 'http://localhost:5000',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: { approvalStatus: 'Approved', status: 'Approved' },
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
[QUOTATION STATUS UPDATE - INCOMING] {
  userId: '8bcd3a5f-10fc-4491-9258-a62b5bfde36e',
  optionalUserId: '8bcd3a5f-10fc-4491-9258-a62b5bfde36e',
  role: 'admin',
  payload: { approvalStatus: 'Approved', status: 'Approved' },
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
[QUOTATION STATUS UPDATE - USER ID VALIDATION] { userId: '8bcd3a5f-10fc-4491-9258-a62b5bfde36e', isValidUUID: true }
[QUOTATION STATUS UPDATE - FILTERED FIELDS] {
  status: 'Accepted',
  approvalStatus: 'Approved',
  approvedBy: '8bcd3a5f-10fc-4491-9258-a62b5bfde36e',
  approvedAt: 2025-10-04T12:52:34.339Z
}
Error logging audit event: error: invalid input syntax for type uuid: "system"
    at file:///home/dheeraj-prajapat/Downloads/td1-main/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async QuotationStorage.logAuditEvent (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/base.ts:28:7)
    at async QuotationStorage.updateQuotation (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/quotation-storage.ts:239:5)
    at async <anonymous> (/home/dheeraj-prajapat/Downloads/td1-main/server/routes/quotations.ts:169:27) {
  length: 138,
  severity: 'ERROR',
  code: '22P02',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: "unnamed portal parameter $6 = '...'",
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'uuid.c',
  line: '133',
  routine: 'string_to_uuid'
}
[QUOTATION STATUS UPDATED] {
  id: 'dc5c6bd1-1798-4a30-af35-f9a632471037',
  quoteNumber: 'QT-335249CW7N',
  revision: 1,
  parentQuotationId: null,
  revisionReason: null,
  supersededAt: null,
  supersededBy: null,
  isSuperseded: false,
  enquiryId: '776fbee8-566b-4f6c-a103-0fb650ad64af',
  customerId: '1c2deb32-4caf-48ad-9dcc-13d1c84ad45e',
  customerType: 'Retail',
  status: 'Accepted',
  quoteDate: 2025-10-04T12:52:15.691Z,
  validUntil: 2025-11-03T12:52:15.248Z,
  subtotal: '17000.00',
  discountPercentage: '0.00',
  discountAmount: '0.00',
  taxAmount: '0.00',
  totalAmount: '17000.00',
  terms: null,
  notes: 'Generated from enquiry ENQ-2024-175',
  approvalStatus: 'Approved',
  requiredApprovalLevel: null,
  approvedBy: '8bcd3a5f-10fc-4491-9258-a62b5bfde36e',
  approvedAt: 2025-10-04T12:52:34.339Z,
  rejectionReason: null,
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  createdAt: 2025-10-04T12:52:15.526Z,
  updatedAt: 2025-10-04T12:52:35.226Z,
  customerPoNumber: null,
  customerPoDocument: null,
  customerPoDocumentName: null
}
6:22:35 PM [express] PUT /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037 200 in 1473ms :: {"id"‚Ä¶
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/items
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/items',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"13a-rOl3gt171S1nXn3RpkOZFMlcdw4"'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
Fetching quotation items for quotation ID: dc5c6bd1-1798-4a30-af35-f9a632471037
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/history
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/history',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
6:22:35 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/history 304 in 1ms :: ‚Ä¶
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/history
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/history',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
6:22:35 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/history 304 in 1ms :: ‚Ä¶
6:22:36 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037 200 in 271ms :: {"id":‚Ä¶
Found quotation items: 1
6:22:36 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/items 304 in 305ms :: ‚Ä¶
[DEBUG][REQ] GET /api/quotations?
[DEBUG][REQ] GET /favicon.ico
6:22:37 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions 304 in 1718m‚Ä¶
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
6:22:37 PM [express] GET /api/quotations 200 in 581ms :: [{"id":"dc5c6bd1-1798-4a30-af35-f9a63247103‚Ä¶
6:22:37 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037/revisions 304 in 300ms‚Ä¶
[DEBUG][REQ] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"3d4-6oDTLLnw7Q9NTOWz5coaSPX8bIE"'
  },
  body: {},
  params: { id: 'dc5c6bd1-1798-4a30-af35-f9a632471037' }
}
6:22:38 PM [express] GET /api/quotations/dc5c6bd1-1798-4a30-af35-f9a632471037 304 in 302ms :: {"id":‚Ä¶
[DEBUG][REQ] GET /api/quotations
[DEBUG][REQ] GET /api/auth/me
[DEBUG][REQ] GET /favicon.ico
6:22:39 PM [express] GET /api/quotations 200 in 604ms :: [{"id":"dc5c6bd1-1798-4a30-af35-f9a63247103‚Ä¶
6:22:39 PM [express] GET /api/auth/me 304 in 818ms :: {"user":{"id":"8bcd3a5f-10fc-4491-9258-a62b5bf‚Ä¶
[DEBUG][REQ] POST /api/files/upload
File upload request received
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryUADFVTmBu1zOHjQG
req.files: [
  {
    fieldname: 'files',
    originalname: 'purchase-invoice-PI-20251004-N92KV.pdf',
    encoding: '7bit',
    mimetype: 'application/pdf',
    destination: '/home/dheeraj-prajapat/Downloads/td1-main/uploads',
    filename: '7f6c2bb6-2edd-461e-851b-743362c4c3e1.pdf',
    path: '/home/dheeraj-prajapat/Downloads/td1-main/uploads/7f6c2bb6-2edd-461e-851b-743362c4c3e1.pdf',
    size: 17872
  }
]
Files processed: 1
Responding with uploaded files: [
  {
    id: '7f6c2bb6-2edd-461e-851b-743362c4c3e1',
    name: 'purchase-invoice-PI-20251004-N92KV.pdf',
    filename: '7f6c2bb6-2edd-461e-851b-743362c4c3e1.pdf',
    size: 17872,
    mimetype: 'application/pdf',
    path: '/api/files/download/7f6c2bb6-2edd-461e-851b-743362c4c3e1.pdf',
    uploadedAt: '2025-10-04T12:53:06.193Z'
  }
]
6:23:06 PM [express] POST /api/files/upload 200 in 4485ms :: {"message":"Files uploaded successfully‚Ä¶
[DEBUG][REQ] POST /api/customer-po-upload
[PO-STORAGE] createPurchaseOrder received: { poDateType: 'object', poDateValue: 2025-10-04T12:53:06.482Z }
6:23:07 PM [express] POST /api/customer-po-upload 201 in 1178ms :: {"id":"b584e3a3-ed3e-446e-9d6f-59‚Ä¶
[DEBUG][REQ] GET /api/quotations
6:23:08 PM [express] GET /api/quotations 200 in 582ms :: [{"id":"dc5c6bd1-1798-4a30-af35-f9a63247103‚Ä¶
[DEBUG][REQ] GET /api/quotations
6:23:08 PM [express] GET /api/quotations 304 in 296ms :: [{"id":"dc5c6bd1-1798-4a30-af35-f9a63247103‚Ä¶
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] POST /api/sales-orders/from-quotation
6:23:13 PM [express] POST /api/sales-orders/from-quotation 201 in 2058ms :: {"id":"85106a50-1a01-414‚Ä¶
[DEBUG][REQ] GET /api/sales-orders
6:23:14 PM [express] GET /api/sales-orders 200 in 587ms :: [{"id":"85106a50-1a01-414c-bba8-efa1c3476‚Ä¶
[DEBUG][REQ] PUT /api/sales-orders/85106a50-1a01-414c-bba8-efa1c3476ed9
6:23:18 PM [express] PUT /api/sales-orders/85106a50-1a01-414c-bba8-efa1c3476ed9 200 in 296ms :: {"id‚Ä¶
[DEBUG][REQ] GET /api/sales-orders
6:23:19 PM [express] GET /api/sales-orders 200 in 669ms :: [{"id":"85106a50-1a01-414c-bba8-efa1c3476‚Ä¶
[DEBUG][REQ] GET /api/sales-orders/85106a50-1a01-414c-bba8-efa1c3476ed9/items
6:23:20 PM [express] GET /api/sales-orders/85106a50-1a01-414c-bba8-efa1c3476ed9/items 200 in 296ms :‚Ä¶
[DEBUG][REQ] PUT /api/sales-orders/85106a50-1a01-414c-bba8-efa1c3476ed9/validate-lpo
6:23:24 PM [express] PUT /api/sales-orders/85106a50-1a01-414c-bba8-efa1c3476ed9/validate-lpo 200 in ‚Ä¶
[DEBUG][REQ] GET /api/sales-orders
[DEBUG][REQ] GET /api/sales-orders/85106a50-1a01-414c-bba8-efa1c3476ed9/items
6:23:24 PM [express] GET /api/sales-orders 200 in 580ms :: [{"id":"85106a50-1a01-414c-bba8-efa1c3476‚Ä¶
6:23:26 PM [express] GET /api/sales-orders/85106a50-1a01-414c-bba8-efa1c3476ed9/items 304 in 1611ms ‚Ä¶
[DEBUG][REQ] GET /api/delivery-notes?page=1&pageSize=15
[DEBUG][REQ] GET /api/sales-orders
[DEBUG][REQ] GET /favicon.ico
6:23:28 PM [express] GET /api/delivery-notes 304 in 575ms :: [{"id":"72f8efa8-2bf6-4628-9f23-42fa8f5‚Ä¶
6:23:28 PM [express] GET /api/sales-orders 304 in 584ms :: [{"id":"85106a50-1a01-414c-bba8-efa1c3476‚Ä¶
[DEBUG][REQ] POST /api/delivery-notes
6:23:59 PM [express] POST /api/delivery-notes 200 in 1667ms :: {"id":"6bc0e90a-fa41-4936-9022-94a109‚Ä¶
[DEBUG][REQ] GET /api/delivery-notes?page=1&pageSize=15
6:23:59 PM [express] GET /api/delivery-notes 200 in 633ms :: [{"id":"6bc0e90a-fa41-4936-9022-94a1092‚Ä¶
[DEBUG][REQ] GET /api/delivery-notes?page=1&pageSize=15
6:24:00 PM [express] GET /api/delivery-notes 304 in 298ms :: [{"id":"6bc0e90a-fa41-4936-9022-94a1092‚Ä¶
[DEBUG][REQ] PATCH /api/delivery-notes/6bc0e90a-fa41-4936-9022-94a109269802
PATCH /api/delivery-notes/:id {
  id: '6bc0e90a-fa41-4936-9022-94a109269802',
  body: {
    status: 'Complete',
    updatedAt: '2025-10-04T12:54:04.610Z',
    pickingCompletedBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
    pickingCompletedAt: 2025-10-04T12:54:04.610Z,
    deliveryConfirmedBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
    deliveryConfirmedAt: 2025-10-04T12:54:04.610Z,
    actualDeliveryDate: 2025-10-04T12:54:04.610Z
  }
}
Updating delivery with data: {
  id: '6bc0e90a-fa41-4936-9022-94a109269802',
  filteredData: {
    status: 'Complete',
    updatedAt: 2025-10-04T12:54:04.616Z,
    pickingCompletedBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
    pickingCompletedAt: 2025-10-04T12:54:04.610Z,
    deliveryConfirmedBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
    deliveryConfirmedAt: 2025-10-04T12:54:04.610Z,
    actualDeliveryDate: 2025-10-04T12:54:04.610Z
  }
}
Delivery updated successfully: {
  id: '6bc0e90a-fa41-4936-9022-94a109269802',
  deliveryNumber: 'SO-2025-162',
  salesOrderId: '85106a50-1a01-414c-bba8-efa1c3476ed9',
  deliveryDate: 2025-10-05T12:53:00.000Z,
  status: 'Complete',
  deliveryType: 'Full',
  deliveryAddress: 'Kashmir',
  deliveryNotes: null,
  deliveryDocument: null,
  deliveryDocumentName: null,
  deliveryDocumentSize: null,
  pickingStartedBy: null,
  pickingStartedAt: null,
  pickingCompletedBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  pickingCompletedAt: 2025-10-04T12:54:04.610Z,
  pickingNotes: null,
  deliveryConfirmedBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  deliveryConfirmedAt: 2025-10-04T12:54:04.610Z,
  deliverySignature: null,
  trackingNumber: null,
  carrierName: null,
  estimatedDeliveryDate: null,
  actualDeliveryDate: 2025-10-04T12:54:04.610Z,
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  createdAt: 2025-10-04T12:53:59.164Z,
  updatedAt: 2025-10-04T12:54:04.616Z
}
6:24:04 PM [express] PATCH /api/delivery-notes/6bc0e90a-fa41-4936-9022-94a109269802 200 in 281ms :: ‚Ä¶
[DEBUG][REQ] GET /api/delivery-notes?page=1&pageSize=15
6:24:05 PM [express] GET /api/delivery-notes 200 in 554ms :: [{"id":"6bc0e90a-fa41-4936-9022-94a1092‚Ä¶
[DEBUG][REQ] GET /api/delivery-notes?page=1&pageSize=15
6:24:05 PM [express] GET /api/delivery-notes 304 in 285ms :: [{"id":"6bc0e90a-fa41-4936-9022-94a1092‚Ä¶
[DEBUG][REQ] GET /api/invoices
[DEBUG][REQ] GET /api/deliveries
[DEBUG][REQ] GET /favicon.ico
6:24:08 PM [express] GET /api/invoices 304 in 570ms :: [{"id":"e005f1e1-5c6c-4774-a50d-093f7d068b66"‚Ä¶
6:24:10 PM [express] GET /api/deliveries 200 in 2193ms :: [{"id":"6bc0e90a-fa41-4936-9022-94a1092698‚Ä¶
[DEBUG][REQ] POST /api/invoices/generate-from-delivery
[ROUTE] Invoice generation request received: {
  deliveryId: '6bc0e90a-fa41-4936-9022-94a109269802',
  invoiceType: 'Standard'
}
[ROUTE] Calling storage.generateInvoiceFromDelivery with: {
  deliveryId: '6bc0e90a-fa41-4936-9022-94a109269802',
  invoiceType: 'Standard',
  userId: undefined
}
[ROUTE] Testing storage access...
[ROUTE] Storage test successful, found 1 invoices
[DEBUG] Starting invoice generation for delivery: 6bc0e90a-fa41-4936-9022-94a109269802
[DEBUG] Found delivery: SO-2025-162
[DEBUG] Sales order ID: 85106a50-1a01-414c-bba8-efa1c3476ed9
[DEBUG] Found sales order: SO-2025-162
[DEBUG] Found 0 delivery items
[DEBUG] Delivery items data: []
[DEBUG] No delivery items found, creating from sales order items
[DEBUG] Found 1 sales order items
[DEBUG] Created 1 virtual delivery items
[DEBUG] Processing delivery item: virtual-e948b00b-8847-4ea0-b4f1-9cbc14aae247
[DEBUG] Sales order item: e948b00b-8847-4ea0-b4f1-9cbc14aae247
[DEBUG] Sales order item data: {
  id: 'e948b00b-8847-4ea0-b4f1-9cbc14aae247',
  itemId: 'c19058e1-fb1c-4cfc-b5be-00ff1f9f891d',
  quantity: 100,
  unitPrice: '170.00',
  totalPrice: '17000.00'
}
[DEBUG] Item ID: c19058e1-fb1c-4cfc-b5be-00ff1f9f891d, Barcode: AUTO-1759582452931-0, Supplier Code: AUTO-SUP
[DEBUG] Error fetching item c19058e1-fb1c-4cfc-b5be-00ff1f9f891d: error: syntax error at or near ")"
    at file:///home/dheeraj-prajapat/Downloads/td1-main/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (/home/dheeraj-prajapat/Downloads/td1-main/node_modules/src/neon-serverless/session.ts:102:18)
    at async InvoiceStorage.generateInvoiceFromDelivery (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/invoice-storage.ts:192:27)
    at async <anonymous> (/home/dheeraj-prajapat/Downloads/td1-main/server/routes/invoice.ts:327:23) {
  length: 90,
  severity: 'ERROR',
  code: '42601',
  detail: undefined,
  hint: undefined,
  position: '15',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'scan.l',
  line: '1244',
  routine: 'scanner_yyerror'
}
[DEBUG] Continuing without item master data for itemId: c19058e1-fb1c-4cfc-b5be-00ff1f9f891d
[DEBUG] Subtotal calculated: 17000
[DEBUG] Invoice items to insert: 1
[DEBUG] Items processed: 1
[DEBUG] Validation passed - proceeding with invoice creation
[DEBUG] Sales Order ID: 85106a50-1a01-414c-bba8-efa1c3476ed9
[DEBUG] Customer ID: 1c2deb32-4caf-48ad-9dcc-13d1c84ad45e
[DEBUG] Subtotal: 17000
[DEBUG] Generated invoice number: INV-453493Z416
[DEBUG] Inserting invoice with customerId: 1c2deb32-4caf-48ad-9dcc-13d1c84ad45e
[DEBUG] Invoice created successfully: 37bcf881-32eb-434c-a64d-5a3835011879
[DEBUG] Updating invoice items with invoice ID: 37bcf881-32eb-434c-a64d-5a3835011879
[DEBUG] Inserting 1 invoice items
[DEBUG] Invoice items inserted successfully
[DEBUG] Invoice generation completed successfully
[ROUTE] Invoice generation successful: 37bcf881-32eb-434c-a64d-5a3835011879
6:24:14 PM [express] POST /api/invoices/generate-from-delivery 201 in 2545ms :: {"id":"37bcf881-32eb‚Ä¶
[DEBUG][REQ] GET /api/invoices
6:24:14 PM [express] GET /api/invoices 200 in 553ms :: [{"id":"37bcf881-32eb-434c-a64d-5a3835011879"‚Ä¶
[DEBUG][REQ] PUT /api/invoices/37bcf881-32eb-434c-a64d-5a3835011879
6:24:17 PM [express] PUT /api/invoices/37bcf881-32eb-434c-a64d-5a3835011879 200 in 280ms :: {"id":"3‚Ä¶
[DEBUG][REQ] GET /api/invoices
6:24:17 PM [express] GET /api/invoices 200 in 555ms :: [{"id":"37bcf881-32eb-434c-a64d-5a3835011879"‚Ä¶
[DEBUG][REQ] PUT /api/invoices/37bcf881-32eb-434c-a64d-5a3835011879
6:24:18 PM [express] PUT /api/invoices/37bcf881-32eb-434c-a64d-5a3835011879 200 in 280ms :: {"id":"3‚Ä¶
[DEBUG][REQ] GET /api/invoices
6:24:19 PM [express] GET /api/invoices 200 in 554ms :: [{"id":"37bcf881-32eb-434c-a64d-5a3835011879"‚Ä¶
[DEBUG][REQ] GET /api/invoices/37bcf881-32eb-434c-a64d-5a3835011879/pdf?invoiceType=Standard
Error fetching delivery: TypeError: Cannot read properties of undefined (reading 'status')
    at DeliveryStorage.getDelivery (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/delivery-storage.ts:158:69)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async <anonymous> (/home/dheeraj-prajapat/Downloads/td1-main/server/routes/invoice.ts:429:22)
Could not fetch related order/delivery data: Error: Failed to fetch delivery
    at DeliveryStorage.getDelivery (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/delivery-storage.ts:168:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async <anonymous> (/home/dheeraj-prajapat/Downloads/td1-main/server/routes/invoice.ts:429:22)
Of the table content, 30 units width could not fit page
Of the table content, 86 units width could not fit page
6:24:21 PM [express] GET /api/invoices/37bcf881-32eb-434c-a64d-5a3835011879/pdf 200 in 1696ms
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] GET /api/requisitions?page=1&limit=500
getRequisitions called with: { limit: 500, offset: 0, filters: {} }
[DEBUG][REQ] GET /api/customers?limit=1000
getRequisitions found 21 results
6:24:34 PM [express] GET /api/requisitions 304 in 2042ms :: {"data":[{"id":"9b716bb9-073a-4cbb-b185-‚Ä¶
6:24:34 PM [express] GET /api/customers 200 in 2497ms :: {"customers":[{"id":"1c2deb32-4caf-48ad-9dc‚Ä¶
[DEBUG][REQ] GET /api/customers?limit=1000
[DEBUG][REQ] GET /favicon.ico
6:24:35 PM [express] GET /api/customers 304 in 562ms :: {"customers":[{"id":"1c2deb32-4caf-48ad-9dcc‚Ä¶
[DEBUG][REQ] GET /api/customers?limit=1000
[DEBUG][REQ] GET /api/supplier-quotes?status=&priority=&supplier=&currency=&search=&dateFrom=&dateTo=
SupplierQuoteStorage.list called with params: {
  page: 1,
  limit: 20,
  search: '',
  status: '',
  priority: '',
  supplier: '',
  currency: '',
  dateFrom: '',
  dateTo: ''
}
Executing query: 
        SELECT 
          sq.id,
          sq.quote_number as "quoteNumber",
          sq.supplier_id as "supplierId",
          sq.status,
          sq.priority,
          sq.quote_date as "quoteDate",
          sq.valid_until as "validUntil",
          sq.request_date as "requestDate",
          sq.response_date as "responseDate",
          sq.subtotal,
          sq.discount_percentage as "discountPercentage",
          sq.discount_amount as "discountAmount",
          sq.tax_amount as "taxAmount",
          sq.total_amount as "totalAmount",
          sq.currency,
          sq.terms,
          sq.notes,
          sq.requisition_id as "requisitionId",
          sq.payment_terms as "paymentTerms",
          sq.delivery_terms as "deliveryTerms",
          sq.rfq_number as "rfqNumber",
          sq.evaluation_score as "evaluationScore",
          sq.competitive_rank as "competitiveRank",
          sq.is_preferred_supplier as "isPreferredSupplier",
          sq.created_by as "createdBy",
          sq.created_at as "createdAt",
          sq.updated_at as "updatedAt",
          s.id as "supplierId",
          s.name as "supplierName",
          s.email as "supplierEmail",
          s.phone as "supplierPhone",
          s.address as "supplierAddress",
          s.contact_person as "supplierContactPerson"
        FROM supplier_quotes sq
        LEFT JOIN suppliers s ON sq.supplier_id = s.id
        
        ORDER BY sq.created_at DESC
        LIMIT $1 OFFSET $2
      
Query params: [ 20, 0 ]
6:24:35 PM [express] GET /api/customers 304 in 564ms :: {"customers":[{"id":"1c2deb32-4caf-48ad-9dcc‚Ä¶
Query result rows: 18
6:24:36 PM [express] GET /api/supplier-quotes 200 in 553ms :: {"data":[{"id":"d191e5b3-3d1b-4e37-bb8‚Ä¶
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] PATCH /api/supplier-quotes/d191e5b3-3d1b-4e37-bb8f-eab699610e88
Updating supplier quote: d191e5b3-3d1b-4e37-bb8f-eab699610e88 with data: {
  supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
  rfqNumber: '',
  priority: 'Medium',
  validUntil: '2025-11-03T12:52:26.213Z',
  paymentTerms: 'Net 30',
  deliveryTerms: 'FOB Destination',
  notes: 'Quote request for enquiry ENQ-2024-175 from customer Consistent',
  status: 'Accepted',
  currency: 'BHD'
}
Parsed data: {
  supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
  status: 'Accepted',
  priority: 'Medium',
  validUntil: '2025-11-03T12:52:26.213Z',
  currency: 'BHD',
  paymentTerms: 'Net 30',
  deliveryTerms: 'FOB Destination',
  notes: 'Quote request for enquiry ENQ-2024-175 from customer Consistent',
  rfqNumber: ''
}
Existing quote found: d191e5b3-3d1b-4e37-bb8f-eab699610e88
Validating supplier ID: 71b3be5b-3ccd-45ef-93f4-e965a3a4e27f
Supplier query result: [
  {
    id: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
    name: 'Wipro PVT.LTD',
    email: 'hasim123@gmail.com',
    phone: '9858558512',
    address: '123, XYZ Business Park, Andheri East',
    contactPerson: 'Hasim Amla',
    paymentTerms: null,
    isActive: true,
    createdAt: 2025-09-28T07:42:44.668Z,
    updatedAt: 2025-09-28T07:42:44.668Z
  }
]
Supplier validated: 71b3be5b-3ccd-45ef-93f4-e965a3a4e27f
Processed data for update: {
  supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
  status: 'Accepted',
  priority: 'Medium',
  currency: 'BHD',
  notes: 'Quote request for enquiry ENQ-2024-175 from customer Consistent',
  validUntil: 2025-11-03T12:52:26.213Z,
  terms: 'Payment Terms: Net 30\nDelivery Terms: FOB Destination'
}
Update query: 
        UPDATE supplier_quotes 
        SET supplier_id = $1, status = $2, priority = $3, currency = $4, notes = $5, valid_until = $6, updated_at = $7
        WHERE id = $8
      
Update values: [
  '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
  'Accepted',
  'Medium',
  'BHD',
  'Quote request for enquiry ENQ-2024-175 from customer Consistent',
  2025-11-03T12:52:26.213Z,
  2025-10-04T12:54:41.749Z,
  'd191e5b3-3d1b-4e37-bb8f-eab699610e88'
]
Update successful: d191e5b3-3d1b-4e37-bb8f-eab699610e88
6:24:42 PM [express] PATCH /api/supplier-quotes/d191e5b3-3d1b-4e37-bb8f-eab699610e88 200 in 1117ms :‚Ä¶
[DEBUG][REQ] GET /api/supplier-quotes?status=&priority=&supplier=&currency=&search=&dateFrom=&dateTo=
SupplierQuoteStorage.list called with params: {
  page: 1,
  limit: 20,
  search: '',
  status: '',
  priority: '',
  supplier: '',
  currency: '',
  dateFrom: '',
  dateTo: ''
}
Executing query: 
        SELECT 
          sq.id,
          sq.quote_number as "quoteNumber",
          sq.supplier_id as "supplierId",
          sq.status,
          sq.priority,
          sq.quote_date as "quoteDate",
          sq.valid_until as "validUntil",
          sq.request_date as "requestDate",
          sq.response_date as "responseDate",
          sq.subtotal,
          sq.discount_percentage as "discountPercentage",
          sq.discount_amount as "discountAmount",
          sq.tax_amount as "taxAmount",
          sq.total_amount as "totalAmount",
          sq.currency,
          sq.terms,
          sq.notes,
          sq.requisition_id as "requisitionId",
          sq.payment_terms as "paymentTerms",
          sq.delivery_terms as "deliveryTerms",
          sq.rfq_number as "rfqNumber",
          sq.evaluation_score as "evaluationScore",
          sq.competitive_rank as "competitiveRank",
          sq.is_preferred_supplier as "isPreferredSupplier",
          sq.created_by as "createdBy",
          sq.created_at as "createdAt",
          sq.updated_at as "updatedAt",
          s.id as "supplierId",
          s.name as "supplierName",
          s.email as "supplierEmail",
          s.phone as "supplierPhone",
          s.address as "supplierAddress",
          s.contact_person as "supplierContactPerson"
        FROM supplier_quotes sq
        LEFT JOIN suppliers s ON sq.supplier_id = s.id
        
        ORDER BY sq.created_at DESC
        LIMIT $1 OFFSET $2
      
Query params: [ 20, 0 ]
Query result rows: 18
6:24:42 PM [express] GET /api/supplier-quotes 200 in 573ms :: {"data":[{"id":"d191e5b3-3d1b-4e37-bb8‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos?limit=20&offset=0
[DEBUG][REQ] GET /api/supplier-quotes?status=Accepted&limit=50
SupplierQuoteStorage.list called with params: { page: 1, limit: 50, status: 'Accepted' }
Executing query: 
        SELECT 
          sq.id,
          sq.quote_number as "quoteNumber",
          sq.supplier_id as "supplierId",
          sq.status,
          sq.priority,
          sq.quote_date as "quoteDate",
          sq.valid_until as "validUntil",
          sq.request_date as "requestDate",
          sq.response_date as "responseDate",
          sq.subtotal,
          sq.discount_percentage as "discountPercentage",
          sq.discount_amount as "discountAmount",
          sq.tax_amount as "taxAmount",
          sq.total_amount as "totalAmount",
          sq.currency,
          sq.terms,
          sq.notes,
          sq.requisition_id as "requisitionId",
          sq.payment_terms as "paymentTerms",
          sq.delivery_terms as "deliveryTerms",
          sq.rfq_number as "rfqNumber",
          sq.evaluation_score as "evaluationScore",
          sq.competitive_rank as "competitiveRank",
          sq.is_preferred_supplier as "isPreferredSupplier",
          sq.created_by as "createdBy",
          sq.created_at as "createdAt",
          sq.updated_at as "updatedAt",
          s.id as "supplierId",
          s.name as "supplierName",
          s.email as "supplierEmail",
          s.phone as "supplierPhone",
          s.address as "supplierAddress",
          s.contact_person as "supplierContactPerson"
        FROM supplier_quotes sq
        LEFT JOIN suppliers s ON sq.supplier_id = s.id
        WHERE sq.status = $1
        ORDER BY sq.created_at DESC
        LIMIT $2 OFFSET $3
      
Query params: [ 'Accepted', 50, 0 ]
[DEBUG][REQ] GET /api/suppliers
[DEBUG][REQ] GET /api/supplier-lpos?limit=1000
[DEBUG][REQ] GET /favicon.ico
6:24:47 PM [express] GET /api/supplier-lpos 304 in 568ms :: {"data":[{"id":"8fcf2730-e258-4c82-94f9-‚Ä¶
6:24:48 PM [express] GET /api/suppliers 304 in 1629ms :: [{"id":"f4161276-5f20-465a-bbfc-8389bd9f1ac‚Ä¶
Query result rows: 5
6:24:48 PM [express] GET /api/supplier-quotes 200 in 1997ms :: {"data":[{"id":"d191e5b3-3d1b-4e37-bb‚Ä¶
6:24:49 PM [express] GET /api/supplier-lpos 304 in 2528ms :: {"data":[{"id":"8fcf2730-e258-4c82-94f9‚Ä¶
[DEBUG][REQ] POST /api/supplier-lpos/from-supplier-quotes
[SupplierLpoStorage.createSupplierLpo] Preparing insert {
  lpoNumber: 'LPO-492267C4WX',
  supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f'
}
[SupplierLpoStorage.createSupplierLpo] Insert record {
  lpoNumber: 'LPO-492267C4WX',
  supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
  status: 'Draft',
  sourceType: 'SupplierQuote',
  groupingCriteria: 'supplier',
  subtotal: 10000,
  taxAmount: 0,
  totalAmount: 10000,
  currency: 'BHD',
  requiresApproval: false,
  approvalStatus: 'Not Required',
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  createdAt: 2025-10-04T12:54:52.268Z,
  updatedAt: 2025-10-04T12:54:52.268Z,
  version: 1,
  sourceSalesOrderIds: undefined,
  sourceQuotationIds: [ 'd191e5b3-3d1b-4e37-bb8f-eab699610e88' ]
}
[SupplierLpoStorage.createSupplierLpo] Insert result [
  {
    id: '8c4aeafb-a9fe-4f6b-9757-547f8f319647',
    lpoNumber: 'LPO-492267C4WX',
    supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
    status: 'Draft',
    lpoDate: 2025-10-04T12:54:52.435Z,
    expectedDeliveryDate: null,
    requestedDeliveryDate: null,
    sourceType: 'SupplierQuote',
    sourceSalesOrderIds: null,
    sourceQuotationIds: [ 'd191e5b3-3d1b-4e37-bb8f-eab699610e88' ],
    groupingCriteria: 'supplier',
    subtotal: '10000.00',
    taxAmount: '0.00',
    totalAmount: '10000.00',
    currency: 'BHD',
    supplierContactPerson: null,
    supplierEmail: null,
    supplierPhone: null,
    paymentTerms: null,
    deliveryTerms: null,
    termsAndConditions: null,
    specialInstructions: null,
    version: 1,
    parentLpoId: null,
    amendmentReason: null,
    amendmentType: null,
    requiresApproval: false,
    approvalStatus: 'Not Required',
    approvedBy: null,
    approvedAt: null,
    approvalNotes: null,
    sentToSupplierAt: null,
    confirmedBySupplierAt: null,
    supplierConfirmationReference: null,
    createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
    createdAt: 2025-10-04T12:54:52.268Z,
    updatedAt: 2025-10-04T12:54:52.268Z
  }
]
6:24:52 PM [express] POST /api/supplier-lpos/from-supplier-quotes 201 in 1195ms :: [{"id":"8c4aeafb-‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos?limit=20&offset=0
[DEBUG][REQ] GET /api/supplier-lpos?limit=1000
[DEBUG][REQ] GET /api/supplier-quotes?status=Accepted&limit=50
SupplierQuoteStorage.list called with params: { page: 1, limit: 50, status: 'Accepted' }
Executing query: 
        SELECT 
          sq.id,
          sq.quote_number as "quoteNumber",
          sq.supplier_id as "supplierId",
          sq.status,
          sq.priority,
          sq.quote_date as "quoteDate",
          sq.valid_until as "validUntil",
          sq.request_date as "requestDate",
          sq.response_date as "responseDate",
          sq.subtotal,
          sq.discount_percentage as "discountPercentage",
          sq.discount_amount as "discountAmount",
          sq.tax_amount as "taxAmount",
          sq.total_amount as "totalAmount",
          sq.currency,
          sq.terms,
          sq.notes,
          sq.requisition_id as "requisitionId",
          sq.payment_terms as "paymentTerms",
          sq.delivery_terms as "deliveryTerms",
          sq.rfq_number as "rfqNumber",
          sq.evaluation_score as "evaluationScore",
          sq.competitive_rank as "competitiveRank",
          sq.is_preferred_supplier as "isPreferredSupplier",
          sq.created_by as "createdBy",
          sq.created_at as "createdAt",
          sq.updated_at as "updatedAt",
          s.id as "supplierId",
          s.name as "supplierName",
          s.email as "supplierEmail",
          s.phone as "supplierPhone",
          s.address as "supplierAddress",
          s.contact_person as "supplierContactPerson"
        FROM supplier_quotes sq
        LEFT JOIN suppliers s ON sq.supplier_id = s.id
        WHERE sq.status = $1
        ORDER BY sq.created_at DESC
        LIMIT $2 OFFSET $3
      
Query params: [ 'Accepted', 50, 0 ]
[DEBUG][REQ] GET /api/suppliers
Query result rows: 5
6:24:53 PM [express] GET /api/suppliers 304 in 287ms :: [{"id":"f4161276-5f20-465a-bbfc-8389bd9f1acc‚Ä¶
6:24:53 PM [express] GET /api/supplier-quotes 304 in 550ms :: {"data":[{"id":"d191e5b3-3d1b-4e37-bb8‚Ä¶
6:24:53 PM [express] GET /api/supplier-lpos 200 in 593ms :: {"data":[{"id":"8c4aeafb-a9fe-4f6b-9757-‚Ä¶
6:24:54 PM [express] GET /api/supplier-lpos 200 in 1191ms :: {"data":[{"id":"8c4aeafb-a9fe-4f6b-9757‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos?limit=1000
6:24:54 PM [express] GET /api/supplier-lpos 304 in 599ms :: {"data":[{"id":"8c4aeafb-a9fe-4f6b-9757-‚Ä¶
[DEBUG][REQ] PATCH /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647
[PATCH] /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647 - Received data: {
  id: '8c4aeafb-a9fe-4f6b-9757-547f8f319647',
  lpoNumber: 'LPO-492267C4WX',
  supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
  supplierName: 'Wipro PVT.LTD',
  status: 'Confirmed',
  lpoDate: '2025-10-04T12:54:52.435Z',
  expectedDeliveryDate: '2025-10-05',
  requestedDeliveryDate: null,
  subtotal: '10000.00',
  taxAmount: '0.00',
  totalAmount: '10000.00',
  currency: 'BHD',
  approvalStatus: 'Not Required',
  requiresApproval: false,
  paymentTerms: null,
  deliveryTerms: null,
  version: 1,
  createdAt: '2025-10-04T12:54:52.268Z',
  updatedAt: '2025-10-04T12:54:52.268Z',
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  sourceType: 'SupplierQuote',
  sourceSalesOrderIds: null,
  sourceQuotationIds: [ 'd191e5b3-3d1b-4e37-bb8f-eab699610e88' ],
  groupingCriteria: 'supplier',
  termsAndConditions: null,
  specialInstructions: null,
  parentLpoId: null,
  amendmentReason: null,
  amendmentType: null,
  approvedBy: null,
  approvedAt: null,
  approvalNotes: null,
  sentToSupplierAt: null,
  confirmedBySupplierAt: null,
  supplierConfirmationReference: null,
  supplierContactPerson: null,
  supplierEmail: null,
  supplierPhone: null
}
[PATCH] /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647 - Filtered data for update: {
  status: 'Confirmed',
  expectedDeliveryDate: 2025-10-05T00:00:00.000Z,
  requestedDeliveryDate: null,
  specialInstructions: null,
  deliveryTerms: null,
  paymentTerms: null,
  termsAndConditions: null,
  currency: 'BHD',
  totalAmount: 10000,
  subtotal: 10000,
  taxAmount: 0,
  supplierContactPerson: null,
  supplierEmail: null,
  supplierPhone: null,
  supplierConfirmationReference: null
}
[PATCH] /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647 - Update successful: {
  id: '8c4aeafb-a9fe-4f6b-9757-547f8f319647',
  lpoNumber: 'LPO-492267C4WX',
  supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
  status: 'Confirmed',
  lpoDate: 2025-10-04T12:54:52.435Z,
  expectedDeliveryDate: 2025-10-05T00:00:00.000Z,
  requestedDeliveryDate: null,
  sourceType: 'SupplierQuote',
  sourceSalesOrderIds: null,
  sourceQuotationIds: [ 'd191e5b3-3d1b-4e37-bb8f-eab699610e88' ],
  groupingCriteria: 'supplier',
  subtotal: '10000.00',
  taxAmount: '0.00',
  totalAmount: '10000.00',
  currency: 'BHD',
  supplierContactPerson: null,
  supplierEmail: null,
  supplierPhone: null,
  paymentTerms: null,
  deliveryTerms: null,
  termsAndConditions: null,
  specialInstructions: null,
  version: 1,
  parentLpoId: null,
  amendmentReason: null,
  amendmentType: null,
  requiresApproval: false,
  approvalStatus: 'Not Required',
  approvedBy: null,
  approvedAt: null,
  approvalNotes: null,
  sentToSupplierAt: null,
  confirmedBySupplierAt: null,
  supplierConfirmationReference: null,
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  createdAt: 2025-10-04T12:54:52.268Z,
  updatedAt: 2025-10-04T12:55:05.179Z
}
6:25:06 PM [express] PATCH /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647 200 in 1704ms :: ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos?limit=20&offset=0
[DEBUG][REQ] GET /api/supplier-lpos?limit=1000
6:25:07 PM [express] GET /api/supplier-lpos 200 in 580ms :: {"data":[{"id":"8c4aeafb-a9fe-4f6b-9757-‚Ä¶
6:25:09 PM [express] GET /api/supplier-lpos 200 in 2500ms :: {"data":[{"id":"8c4aeafb-a9fe-4f6b-9757‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos?status=Confirmed&limit=50
[DEBUG][REQ] GET /api/shipments?
[DEBUG][REQ] GET /api/carriers
[DEBUG][REQ] GET /favicon.ico
6:25:09 PM [express] GET /api/shipments 304 in 292ms :: [{"id":"67c06923-cb82-46ea-bb41-8e12b5323dc1‚Ä¶
6:25:10 PM [express] GET /api/supplier-lpos 200 in 569ms :: {"data":[{"id":"8c4aeafb-a9fe-4f6b-9757-‚Ä¶
6:25:11 PM [express] GET /api/carriers 304 in 1677ms :: [{"id":"f4161276-5f20-465a-bbfc-8389bd9f1acc‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
[DEBUG][REQ] GET /api/supplier-lpos/9da70959-9c53-4c12-8fcd-8a5bd18d594d/items
[DEBUG][REQ] GET /api/supplier-lpos/cdeb020e-d707-4ddb-8654-4a3b42215bd5/items
[DEBUG][REQ] GET /api/supplier-lpos/19d55f70-9e61-4eb3-b4fb-a2289ec2cf7c/items
6:25:13 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 200 in 294ms ‚Ä¶
6:25:13 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 294ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/ac9cb9b5-3a44-42b4-97aa-44fe5e51104b/items
6:25:13 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 297ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/550e8400-e29b-41d4-a716-446655440003/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:14 PM [express] GET /api/supplier-lpos/ac9cb9b5-3a44-42b4-97aa-44fe5e51104b/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:14 PM [express] GET /api/supplier-lpos/550e8400-e29b-41d4-a716-446655440003/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:14 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 291ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:14 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:14 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 290ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:14 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 291ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:14 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 285ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:14 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:14 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 291ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:15 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 284ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:15 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:15 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 293ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:15 PM [express] GET /api/supplier-lpos/9da70959-9c53-4c12-8fcd-8a5bd18d594d/items 304 in 1636ms‚Ä¶
6:25:15 PM [express] GET /api/supplier-lpos/19d55f70-9e61-4eb3-b4fb-a2289ec2cf7c/items 304 in 1694ms‚Ä¶
6:25:15 PM [express] GET /api/supplier-lpos/cdeb020e-d707-4ddb-8654-4a3b42215bd5/items 304 in 1704ms‚Ä¶
6:25:15 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 284ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:15 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 289ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:15 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 291ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:15 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 285ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:15 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 290ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:15 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 290ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:15 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:15 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:15 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 291ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:16 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:16 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 288ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:16 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 294ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:16 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 284ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:16 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 288ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:16 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 293ms ‚Ä¶
6:25:16 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 285ms ‚Ä¶
6:25:16 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 287ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:17 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 287ms ‚Ä¶
6:25:17 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 292ms ‚Ä¶
6:25:17 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 293ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:22 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 286ms ‚Ä¶
6:25:22 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 290ms ‚Ä¶
6:25:22 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 294ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:26 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 286ms ‚Ä¶
6:25:26 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 289ms ‚Ä¶
6:25:26 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 294ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:27 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 285ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:27 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 291ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:27 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 295ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:27 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:27 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 287ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:27 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 290ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:28 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 285ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:28 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:28 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 290ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:28 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 286ms ‚Ä¶
6:25:28 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 286ms ‚Ä¶
6:25:28 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 293ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:32 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 285ms ‚Ä¶
6:25:32 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 288ms ‚Ä¶
6:25:32 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 293ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:33 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:33 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 290ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:33 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 297ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:33 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 285ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:33 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:33 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 291ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:34 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 284ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:34 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 288ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:34 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 294ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:34 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 288ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:34 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:34 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 290ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:34 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 284ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:34 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 287ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:34 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 293ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:34 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 284ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:34 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 286ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:34 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 292ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:35 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 288ms ‚Ä¶
6:25:35 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 286ms ‚Ä¶
6:25:35 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 291ms ‚Ä¶
[DEBUG][REQ] POST /api/shipments
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:36 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 286ms ‚Ä¶
6:25:36 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 289ms ‚Ä¶
6:25:37 PM [express] POST /api/shipments 201 in 890ms :: {"id":"43b24afd-f53c-4128-9eb2-ccbee9426ad7‚Ä¶
[DEBUG][REQ] GET /api/shipments?
[DEBUG][REQ] GET /api/supplier-lpos?status=Confirmed&limit=50
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:37 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 288ms ‚Ä¶
6:25:37 PM [express] GET /api/supplier-lpos 304 in 576ms :: {"data":[{"id":"8c4aeafb-a9fe-4f6b-9757-‚Ä¶
6:25:37 PM [express] GET /api/shipments 200 in 584ms :: [{"id":"43b24afd-f53c-4128-9eb2-ccbee9426ad7‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:38 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 1704ms‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:38 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 291ms ‚Ä¶
6:25:38 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 298ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:38 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 302ms ‚Ä¶
6:25:39 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 1611ms‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:39 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 275ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:42 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 277ms ‚Ä¶
6:25:42 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 283ms ‚Ä¶
6:25:42 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 291ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:44 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 276ms ‚Ä¶
6:25:44 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 284ms ‚Ä¶
6:25:44 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 293ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:25:48 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 283ms ‚Ä¶
6:25:48 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 294ms ‚Ä¶
6:25:48 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 300ms ‚Ä¶
[DEBUG][REQ] PUT /api/shipments/43b24afd-f53c-4128-9eb2-ccbee9426ad7
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:49 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 285ms ‚Ä¶
6:25:49 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 291ms ‚Ä¶
6:25:50 PM [express] PUT /api/shipments/43b24afd-f53c-4128-9eb2-ccbee9426ad7 200 in 893ms :: {"id":"‚Ä¶
[DEBUG][REQ] GET /api/shipments?
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:50 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 283ms ‚Ä¶
6:25:50 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 291ms ‚Ä¶
6:25:50 PM [express] GET /api/shipments 200 in 587ms :: [{"id":"43b24afd-f53c-4128-9eb2-ccbee9426ad7‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:25:51 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 1618ms‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:51 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 291ms ‚Ä¶
6:25:51 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 293ms ‚Ä¶
6:25:51 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 276ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:25:51 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 277ms ‚Ä¶
[DEBUG][REQ] GET /api/shipments?status=Delivered&limit=50
[DEBUG][REQ] GET /api/supplier-lpos
[DEBUG][REQ] GET /api/goods-receipt-headers
[DEBUG][REQ] GET /favicon.ico
6:25:54 PM [express] GET /api/shipments 200 in 290ms :: [{"id":"43b24afd-f53c-4128-9eb2-ccbee9426ad7‚Ä¶
6:25:54 PM [express] GET /api/goods-receipt-headers 200 in 575ms :: [{"id":"f549816d-f829-49d5-8b75-‚Ä¶
6:25:54 PM [express] GET /api/supplier-lpos 200 in 873ms :: {"data":[{"id":"8c4aeafb-a9fe-4f6b-9757-‚Ä¶
[DEBUG][REQ] POST /api/goods-receipt-headers
[GR HEADER][RAW BODY] {
  receiptNumber: 'GRN-20251004-X3JC2',
  supplierLpoId: '8c4aeafb-a9fe-4f6b-9757-547f8f319647',
  supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
  receiptDate: '2025-10-04',
  expectedDeliveryDate: '2025-10-05',
  actualDeliveryDate: '2025-10-04',
  receivedBy: 'system',
  status: 'Draft',
  notes: 'Generated from shipment SHP-TEMP-1759582536460. Supplier: Wipro PVT.LTD. Customer: Unknown Customer. LPO: LPO-492267C4WX Value: BHD 10,000.',
  lpoNumber: 'LPO-492267C4WX',
  totalItems: 1,
  totalQuantityExpected: 100,
  totalQuantityReceived: 0,
  discrepancyFlag: false
}
[GR HEADER][PARSED] {
  receiptNumber: 'GRN-20251004-X3JC2',
  supplierLpoId: '8c4aeafb-a9fe-4f6b-9757-547f8f319647',
  supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
  lpoNumber: 'LPO-492267C4WX',
  receiptDate: '2025-10-04',
  expectedDeliveryDate: '2025-10-05',
  actualDeliveryDate: '2025-10-04',
  receivedBy: 'system',
  status: 'Draft',
  notes: 'Generated from shipment SHP-TEMP-1759582536460. Supplier: Wipro PVT.LTD. Customer: Unknown Customer. LPO: LPO-492267C4WX Value: BHD 10,000.',
  totalItems: 1,
  totalQuantityExpected: 100,
  totalQuantityReceived: 0,
  discrepancyFlag: false
}
[GoodsReceiptStorage.createGoodsReceiptHeader][START] {
  incoming: {
    receiptNumber: 'GRN-20251004-X3JC2',
    supplierLpoId: '8c4aeafb-a9fe-4f6b-9757-547f8f319647',
    supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
    lpoNumber: 'LPO-492267C4WX',
    receiptDate: '2025-10-04',
    expectedDeliveryDate: '2025-10-05',
    actualDeliveryDate: '2025-10-04',
    receivedBy: 'system',
    status: 'Draft',
    notes: 'Generated from shipment SHP-TEMP-1759582536460. Supplier: Wipro PVT.LTD. Customer: Unknown Customer. LPO: LPO-492267C4WX Value: BHD 10,000.',
    totalItems: 1,
    totalQuantityExpected: 100,
    totalQuantityReceived: 0,
    discrepancyFlag: false
  }
}
[GoodsReceiptStorage.createGoodsReceiptHeader][ID RESOLUTION] { assignedId: 'd3221b16-2fe4-4b0b-b7e0-5a1b5c59200e' }
[GoodsReceiptStorage.createGoodsReceiptHeader][PROJECTED] {
  id: 'd3221b16-2fe4-4b0b-b7e0-5a1b5c59200e',
  receiptNumber: 'GRN-20251004-X3JC2',
  supplierLpoId: '8c4aeafb-a9fe-4f6b-9757-547f8f319647',
  supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
  lpoNumber: 'LPO-492267C4WX',
  receiptDate: '2025-10-04',
  expectedDeliveryDate: '2025-10-05',
  actualDeliveryDate: '2025-10-04',
  receivedBy: 'system',
  status: 'Draft',
  notes: 'Generated from shipment SHP-TEMP-1759582536460. Supplier: Wipro PVT.LTD. Customer: Unknown Customer. LPO: LPO-492267C4WX Value: BHD 10,000.',
  totalItems: 1,
  totalQuantityExpected: 100,
  totalQuantityReceived: 0,
  discrepancyFlag: false
}
[GoodsReceiptStorage.createGoodsReceiptHeader][PRIMARY OK] { id: 'd3221b16-2fe4-4b0b-b7e0-5a1b5c59200e' }
[GR HEADER][CREATED] {
  id: 'd3221b16-2fe4-4b0b-b7e0-5a1b5c59200e',
  supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
  status: 'Draft',
  processingMs: 888
}
6:26:00 PM [express] POST /api/goods-receipt-headers 201 in 890ms :: {"id":"d3221b16-2fe4-4b0b-b7e0-‚Ä¶
[DEBUG][REQ] GET /api/goods-receipt-headers
[DEBUG][REQ] GET /api/supplier-lpos
6:26:01 PM [express] GET /api/goods-receipt-headers 200 in 584ms :: [{"id":"d3221b16-2fe4-4b0b-b7e0-‚Ä¶
6:26:01 PM [express] GET /api/supplier-lpos 304 in 828ms :: {"data":[{"id":"8c4aeafb-a9fe-4f6b-9757-‚Ä¶
[DEBUG][REQ] PATCH /api/goods-receipt-headers/d3221b16-2fe4-4b0b-b7e0-5a1b5c59200e/status
[GoodsReceiptStorage.updateGoodsReceiptStatus][START] { id: 'd3221b16-2fe4-4b0b-b7e0-5a1b5c59200e', status: 'Complete' }
[GoodsReceiptStorage.updateGoodsReceiptStatus][SUCCESS] { id: 'd3221b16-2fe4-4b0b-b7e0-5a1b5c59200e' }
6:26:09 PM [express] PATCH /api/goods-receipt-headers/d3221b16-2fe4-4b0b-b7e0-5a1b5c59200e/status 20‚Ä¶
[DEBUG][REQ] GET /api/goods-receipt-headers
[DEBUG][REQ] GET /api/goods-receipt-headers/d3221b16-2fe4-4b0b-b7e0-5a1b5c59200e
6:26:09 PM [express] GET /api/goods-receipt-headers/d3221b16-2fe4-4b0b-b7e0-5a1b5c59200e 200 in 292m‚Ä¶
[DEBUG][REQ] POST /api/purchase-invoices
[PurchaseInvoiceStorage.createPurchaseInvoice][START] {
  invoiceNumber: 'PI-20251004-KSUQF',
  supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
  goodsReceiptId: 'd3221b16-2fe4-4b0b-b7e0-5a1b5c59200e',
  lpoId: '8c4aeafb-a9fe-4f6b-9757-547f8f319647',
  status: 'Draft',
  paymentStatus: 'Unpaid',
  invoiceDate: '2025-10-04',
  dueDate: '2025-10-05',
  receivedDate: '2025-10-04',
  subtotal: '100',
  taxAmount: '0.00',
  discountAmount: '0.00',
  totalAmount: '100',
  paidAmount: '0.00',
  remainingAmount: '100',
  currency: 'BHD',
  paymentTerms: 'Generated from shipment SHP-TEMP-1759582536460. Supplier: Wipro PVT.LTD. Customer: Unknown Customer. LPO: LPO-492267C4WX Value: BHD 10,000.',
  notes: 'Generated from completed goods receipt GRN-20251004-X3JC2. LPO: LPO-492267C4WX',
  attachments: [],
  isRecurring: false
}
6:26:09 PM [express] GET /api/goods-receipt-headers 200 in 556ms :: [{"id":"d3221b16-2fe4-4b0b-b7e0-‚Ä¶
[PurchaseInvoiceStorage.createPurchaseInvoice][SUCCESS] {
  id: '65c59805-3bd8-4b41-aa79-417df273c6e2',
  invoiceNumber: 'PI-20251004-KSUQF',
  supplierInvoiceNumber: null,
  supplierId: '71b3be5b-3ccd-45ef-93f4-e965a3a4e27f',
  goodsReceiptId: 'd3221b16-2fe4-4b0b-b7e0-5a1b5c59200e',
  lpoId: '8c4aeafb-a9fe-4f6b-9757-547f8f319647',
  status: 'Draft',
  paymentStatus: 'Unpaid',
  invoiceDate: '2025-10-04',
  dueDate: '2025-10-05',
  receivedDate: '2025-10-04',
  paymentDate: null,
  subtotal: '100.00',
  taxAmount: '0.00',
  discountAmount: '0.00',
  totalAmount: '100.00',
  paidAmount: '0.00',
  remainingAmount: '100.00',
  currency: 'BHD',
  paymentTerms: 'Generated from shipment SHP-TEMP-1759582536460. Supplier: Wipro PVT.LTD. Customer: Unknown Customer. LPO: LPO-492267C4WX Value: BHD 10,000.',
  notes: 'Generated from completed goods receipt GRN-20251004-X3JC2. LPO: LPO-492267C4WX',
  attachments: [],
  isRecurring: false,
  createdAt: 2025-10-04T12:56:09.803Z,
  updatedAt: 2025-10-04T12:56:09.803Z
}
6:26:09 PM [express] POST /api/purchase-invoices 201 in 296ms :: {"id":"65c59805-3bd8-4b41-aa79-417d‚Ä¶
[DEBUG][REQ] GET /api/purchase-invoices?
[PurchaseInvoiceStorage.getPurchaseInvoices][START] {}
[DEBUG][REQ] GET /favicon.ico
[PurchaseInvoiceStorage.getPurchaseInvoices][SUCCESS] 3 records
6:26:13 PM [express] GET /api/purchase-invoices 200 in 295ms :: [{"id":"65c59805-3bd8-4b41-aa79-417d‚Ä¶
[DEBUG][REQ] GET /api/purchase-invoices/65c59805-3bd8-4b41-aa79-417df273c6e2
[PurchaseInvoiceStorage.getPurchaseInvoice][START] { id: '65c59805-3bd8-4b41-aa79-417df273c6e2' }
[DEBUG][REQ] GET /favicon.ico
[PurchaseInvoiceStorage.getPurchaseInvoice][SUCCESS] { id: '65c59805-3bd8-4b41-aa79-417df273c6e2' }
6:26:16 PM [express] GET /api/purchase-invoices/65c59805-3bd8-4b41-aa79-417df273c6e2 200 in 296ms ::‚Ä¶
[DEBUG][REQ] GET /api/goods-receipt-headers/d3221b16-2fe4-4b0b-b7e0-5a1b5c59200e/items
6:26:16 PM [express] GET /api/goods-receipt-headers/d3221b16-2fe4-4b0b-b7e0-5a1b5c59200e/items 200 i‚Ä¶
[DEBUG][REQ] GET /api/purchase-invoices/65c59805-3bd8-4b41-aa79-417df273c6e2/pdf?mode=enhanced
[PurchaseInvoiceStorage.getPurchaseInvoice][START] { id: '65c59805-3bd8-4b41-aa79-417df273c6e2' }
[PurchaseInvoiceStorage.getPurchaseInvoice][SUCCESS] { id: '65c59805-3bd8-4b41-aa79-417df273c6e2' }
Of the table content, 86 units width could not fit page
6:26:20 PM [express] GET /api/purchase-invoices/65c59805-3bd8-4b41-aa79-417df273c6e2/pdf 200 in 903ms
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
[DEBUG][REQ] GET /api/supplier-lpos?status=Confirmed&limit=50
[DEBUG][REQ] GET /api/supplier-lpos/9da70959-9c53-4c12-8fcd-8a5bd18d594d/items
[DEBUG][REQ] GET /api/supplier-lpos/cdeb020e-d707-4ddb-8654-4a3b42215bd5/items
6:26:42 PM [express] GET /api/supplier-lpos/9da70959-9c53-4c12-8fcd-8a5bd18d594d/items 304 in 1664ms‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/19d55f70-9e61-4eb3-b4fb-a2289ec2cf7c/items
6:26:42 PM [express] GET /api/supplier-lpos/cdeb020e-d707-4ddb-8654-4a3b42215bd5/items 304 in 1664ms‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/ac9cb9b5-3a44-42b4-97aa-44fe5e51104b/items
6:26:42 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 1739ms‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/550e8400-e29b-41d4-a716-446655440003/items
6:26:42 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 1684ms‚Ä¶
[DEBUG][REQ] GET /favicon.ico
6:26:42 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 1740ms‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:26:43 PM [express] GET /api/supplier-lpos/ac9cb9b5-3a44-42b4-97aa-44fe5e51104b/items 304 in 268ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:26:43 PM [express] GET /api/supplier-lpos/19d55f70-9e61-4eb3-b4fb-a2289ec2cf7c/items 304 in 276ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:26:43 PM [express] GET /api/supplier-lpos/550e8400-e29b-41d4-a716-446655440003/items 304 in 275ms ‚Ä¶
6:26:43 PM [express] GET /api/supplier-lpos 304 in 1997ms :: {"data":[{"id":"8c4aeafb-a9fe-4f6b-9757‚Ä¶
6:26:43 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 311ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:26:43 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 270ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:26:43 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 273ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:26:43 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 308ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:26:43 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 269ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:26:43 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 273ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:26:43 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 303ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:26:44 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 269ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:26:44 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 273ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:26:44 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 306ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:26:44 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 268ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:26:44 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 274ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:26:44 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 302ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:26:44 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 268ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:26:44 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 273ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:26:44 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 269ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:26:44 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 299ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:26:44 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 274ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:26:45 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 271ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:26:45 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 273ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:26:45 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 304ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:26:45 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 269ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
6:26:45 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 272ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:26:45 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 298ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:26:45 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 268ms ‚Ä¶
6:26:45 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 274ms ‚Ä¶
6:26:45 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 288ms ‚Ä¶
[DEBUG][REQ] GET /api/shipments?status=Delivered&limit=50
[DEBUG][REQ] GET /favicon.ico
6:27:08 PM [express] GET /api/shipments 304 in 1676ms :: [{"id":"43b24afd-f53c-4128-9eb2-ccbee9426ad‚Ä¶
[DEBUG][REQ] GET /favicon.ico
6:27:53 PM [vite] hmr update /src/pages/purchase-invoice-detail.tsx, /src/index.css?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/pages/purchase-invoice-detail.tsx?t=1759582673773
[DEBUG][REQ] GET /src/index.css?t=1759582673773&v=docpiSywZ2otdXAX-Rwrw
6:27:53 PM [vite] hmr update /src/pages/purchase-invoice-detail.tsx, /src/index.css?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/pages/purchase-invoice-detail.tsx?t=1759582673994
[DEBUG][REQ] GET /src/index.css?t=1759582673994&v=docpiSywZ2otdXAX-Rwrw
6:28:12 PM [vite] hmr update /src/pages/purchase-invoice-detail.tsx, /src/index.css?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/pages/purchase-invoice-detail.tsx?t=1759582692205
[DEBUG][REQ] GET /src/index.css?t=1759582692205&v=docpiSywZ2otdXAX-Rwrw
6:28:12 PM [vite] hmr update /src/pages/purchase-invoice-detail.tsx, /src/index.css?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/pages/purchase-invoice-detail.tsx?t=1759582692398
[DEBUG][REQ] GET /src/index.css?t=1759582692398&v=docpiSywZ2otdXAX-Rwrw
6:31:30 PM [vite] hmr update /src/pages/purchase-invoice-detail.tsx, /src/index.css?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/pages/purchase-invoice-detail.tsx?t=1759582890191
[DEBUG][REQ] GET /src/index.css?t=1759582890191&v=docpiSywZ2otdXAX-Rwrw
6:31:30 PM [vite] hmr update /src/pages/purchase-invoice-detail.tsx, /src/index.css?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/pages/purchase-invoice-detail.tsx?t=1759582890399
[DEBUG][REQ] GET /src/index.css?t=1759582890399&v=docpiSywZ2otdXAX-Rwrw
6:31:54 PM [vite] hmr update /src/pages/purchase-invoices.tsx, /src/index.css?v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /src/pages/purchase-invoices.tsx?t=1759582914398
[DEBUG][REQ] GET /src/index.css?t=1759582914398&v=docpiSywZ2otdXAX-Rwrw
[DEBUG][REQ] GET /api/workflow/progress
getEnquiries called with: { limit: 50, offset: 0, filters: undefined }
Executing query...
[DEBUG][REQ] GET /api/workflow/analytics?period=30d
getEnquiries called with: { limit: 50, offset: 0, filters: undefined }
Executing query...
[DEBUG][REQ] GET /api/customers
[DEBUG][REQ] GET /api/dashboard/stats
getEnquiries called with: { limit: 100, offset: 0, filters: undefined }
Executing query...
[DEBUG][REQ] GET /api/enquiries?limit=5
getEnquiries called with: { limit: 5, offset: 0, filters: undefined }
Executing query...
[DEBUG][REQ] GET /api/supplier-lpo?limit=5
Query result: 5 enquiries found
6:32:17 PM [express] GET /api/enquiries 200 in 1710ms :: [{"id":"776fbee8-566b-4f6c-a103-0fb650ad64a‚Ä¶
[DEBUG][REQ] GET /api/sales-orders?limit=5
Query result: 50 enquiries found
Query result: 50 enquiries found
Query result: 100 enquiries found
6:32:17 PM [express] GET /api/sales-orders 200 in 308ms :: [{"id":"85106a50-1a01-414c-bba8-efa1c3476‚Ä¶
[DEBUG][REQ] GET /api/quotations?limit=5
6:32:18 PM [express] GET /api/dashboard/stats 200 in 2222ms :: {"activeEnquiries":79,"pendingQuotes"‚Ä¶
[DEBUG][REQ] GET /api/supplier-quotes?limit=5
SupplierQuoteStorage.list called with params: { page: 1, limit: 5 }
Executing query: 
        SELECT 
          sq.id,
          sq.quote_number as "quoteNumber",
          sq.supplier_id as "supplierId",
          sq.status,
          sq.priority,
          sq.quote_date as "quoteDate",
          sq.valid_until as "validUntil",
          sq.request_date as "requestDate",
          sq.response_date as "responseDate",
          sq.subtotal,
          sq.discount_percentage as "discountPercentage",
          sq.discount_amount as "discountAmount",
          sq.tax_amount as "taxAmount",
          sq.total_amount as "totalAmount",
          sq.currency,
          sq.terms,
          sq.notes,
          sq.requisition_id as "requisitionId",
          sq.payment_terms as "paymentTerms",
          sq.delivery_terms as "deliveryTerms",
          sq.rfq_number as "rfqNumber",
          sq.evaluation_score as "evaluationScore",
          sq.competitive_rank as "competitiveRank",
          sq.is_preferred_supplier as "isPreferredSupplier",
          sq.created_by as "createdBy",
          sq.created_at as "createdAt",
          sq.updated_at as "updatedAt",
          s.id as "supplierId",
          s.name as "supplierName",
          s.email as "supplierEmail",
          s.phone as "supplierPhone",
          s.address as "supplierAddress",
          s.contact_person as "supplierContactPerson"
        FROM supplier_quotes sq
        LEFT JOIN suppliers s ON sq.supplier_id = s.id
        
        ORDER BY sq.created_at DESC
        LIMIT $1 OFFSET $2
      
Query params: [ 5, 0 ]
6:32:18 PM [express] GET /api/customers 304 in 2234ms :: {"customers":[{"id":"1c2deb32-4caf-48ad-9dc‚Ä¶
[DEBUG][REQ] GET /api/shipments?limit=5
6:32:18 PM [express] GET /api/quotations 200 in 303ms :: [{"id":"dc5c6bd1-1798-4a30-af35-f9a63247103‚Ä¶
[DEBUG][REQ] GET /favicon.ico
Query result rows: 5
6:32:18 PM [express] GET /api/shipments 200 in 295ms :: [{"id":"43b24afd-f53c-4128-9eb2-ccbee9426ad7‚Ä¶
6:32:18 PM [express] GET /api/workflow/analytics 200 in 2689ms :: {"totalWorkflows":150,"completedWo‚Ä¶
6:32:18 PM [express] GET /api/workflow/progress 200 in 2747ms :: [{"id":"workflow-enquiry-776fbee8-5‚Ä¶
6:32:18 PM [express] GET /api/supplier-quotes 200 in 561ms :: {"data":[{"id":"d191e5b3-3d1b-4e37-bb8‚Ä¶
6:32:18 PM [express] GET /api/supplier-lpo 404 in 2956ms
[DEBUG][REQ] GET /api/customers/1c2deb32-4caf-48ad-9dcc-13d1c84ad45e
6:32:20 PM [express] GET /api/customers/1c2deb32-4caf-48ad-9dcc-13d1c84ad45e 304 in 276ms :: {"id":"‚Ä¶
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] GET /api/customers?offset=0&limit=15&customerType=all&classification=all&isActive=all&search=
[DEBUG][REQ] GET /api/customers/stats
6:32:31 PM [express] GET /api/customers 304 in 549ms :: {"customers":[{"id":"1c2deb32-4caf-48ad-9dcc‚Ä¶
6:32:32 PM [express] GET /api/customers/stats 304 in 2192ms :: {"totalCustomers":208,"activeCustomer‚Ä¶
[DEBUG][REQ] POST /api/customers
Creating customer with data: {
  "name": "Tradix",
  "customerType": "Retail",
  "classification": "Individual",
  "isActive": true,
  "email": "tradix@gmail.com",
  "phone": "9874562599",
  "address": "India",
  "paymentTerms": "Net 30"
}
Parsed customer data: {
  "name": "Tradix",
  "email": "tradix@gmail.com",
  "phone": "9874562599",
  "address": "India",
  "customerType": "Retail",
  "classification": "Individual",
  "paymentTerms": "Net 30",
  "isActive": true
}
Customer created successfully: be266646-de29-4662-b661-4af999091168
6:34:12 PM [express] POST /api/customers 201 in 5108ms :: {"id":"be266646-de29-4662-b661-4af99909116‚Ä¶
[DEBUG][REQ] GET /api/customers?offset=0&limit=15&customerType=all&classification=all&isActive=all&search=
[DEBUG][REQ] GET /api/customers/stats
6:34:12 PM [express] GET /api/customers 200 in 593ms :: {"customers":[{"id":"be266646-de29-4662-b661‚Ä¶
6:34:14 PM [express] GET /api/customers/stats 200 in 2248ms :: {"totalCustomers":209,"activeCustomer‚Ä¶
[DEBUG][REQ] GET /api/enquiries?
getEnquiries called with: { limit: 50, offset: 0, filters: undefined }
Executing query...
[DEBUG][REQ] GET /api/customers
[DEBUG][REQ] GET /favicon.ico
Query result: 50 enquiries found
6:34:15 PM [express] GET /api/enquiries 304 in 395ms :: [{"id":"776fbee8-566b-4f6c-a103-0fb650ad64af‚Ä¶
6:34:15 PM [express] GET /api/customers 200 in 645ms :: {"customers":[{"id":"be266646-de29-4662-b661‚Ä¶
[DEBUG][REQ] POST /api/enquiries
Received enquiry data: {
  customerId: 'be266646-de29-4662-b661-4af999091168',
  source: 'Email',
  targetDeliveryDate: '2025-10-05T00:00:00.000Z'
}
insertEnquirySchema shape: {
  customerId: ZodString {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: { checks: [Array], typeName: 'ZodString', coerce: false },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  },
  enquiryDate: ZodOptional {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: {
      innerType: [ZodNullable],
      typeName: 'ZodOptional',
      errorMap: [Function: customMap],
      description: undefined
    },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  },
  status: ZodOptional {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: {
      innerType: [ZodNullable],
      typeName: 'ZodOptional',
      errorMap: [Function: customMap],
      description: undefined
    },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  },
  source: ZodEnum {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: { values: [Array], typeName: 'ZodEnum' },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] },
    _cache: Set(4) { 'Email', 'Phone', 'Web Form', 'Walk-in' }
  },
  targetDeliveryDate: ZodOptional {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: {
      innerType: [ZodString],
      typeName: 'ZodOptional',
      errorMap: [Function: customMap],
      description: undefined
    },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  },
  notes: ZodOptional {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: {
      innerType: [ZodNullable],
      typeName: 'ZodOptional',
      errorMap: [Function: customMap],
      description: undefined
    },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  },
  attachments: ZodOptional {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: {
      innerType: [ZodNullable],
      typeName: 'ZodOptional',
      errorMap: [Function: customMap],
      description: undefined
    },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  },
  createdBy: ZodOptional {
    spa: [Function: bound safeParseAsync] AsyncFunction,
    _def: {
      innerType: [ZodString],
      typeName: 'ZodOptional',
      errorMap: [Function: customMap],
      description: undefined
    },
    parse: [Function: bound parse],
    safeParse: [Function: bound safeParse],
    parseAsync: [Function: bound parseAsync] AsyncFunction,
    safeParseAsync: [Function: bound safeParseAsync] AsyncFunction,
    refine: [Function: bound refine],
    refinement: [Function: bound refinement],
    superRefine: [Function: bound superRefine],
    optional: [Function: bound optional],
    nullable: [Function: bound nullable],
    nullish: [Function: bound nullish],
    array: [Function: bound array],
    promise: [Function: bound promise],
    or: [Function: bound or],
    and: [Function: bound and],
    transform: [Function: bound transform],
    brand: [Function: bound brand],
    default: [Function: bound default],
    catch: [Function: bound catch],
    describe: [Function: bound describe],
    pipe: [Function: bound pipe],
    readonly: [Function: bound readonly],
    isNullable: [Function: bound isNullable],
    isOptional: [Function: bound isOptional],
    '~standard': { version: 1, vendor: 'zod', validate: [Function: validate] }
  }
}
Creating enquiry with data: {
  customerId: 'be266646-de29-4662-b661-4af999091168',
  source: 'Email',
  targetDeliveryDate: '2025-10-05T00:00:00.000Z'
}
Generated enquiry number: ENQ-2024-176
Processed data: {
  customerId: 'be266646-de29-4662-b661-4af999091168',
  source: 'Email',
  targetDeliveryDate: 2025-10-05T00:00:00.000Z,
  enquiryNumber: 'ENQ-2024-176'
}
Created enquiry: {
  id: 'ad28e2f7-76e3-414d-ad20-4ceb9ecd20df',
  enquiryNumber: 'ENQ-2024-176',
  customerId: 'be266646-de29-4662-b661-4af999091168',
  enquiryDate: 2025-10-04T13:04:25.554Z,
  status: 'New',
  source: 'Email',
  targetDeliveryDate: 2025-10-05T00:00:00.000Z,
  notes: null,
  attachments: null,
  createdBy: null,
  createdAt: 2025-10-04T13:04:25.554Z,
  updatedAt: 2025-10-04T13:04:25.554Z
}
6:34:25 PM [express] POST /api/enquiries 201 in 871ms :: {"id":"ad28e2f7-76e3-414d-ad20-4ceb9ecd20df‚Ä¶
[DEBUG][REQ] GET /api/enquiries?
getEnquiries called with: { limit: 50, offset: 0, filters: undefined }
Executing query...
Query result: 50 enquiries found
6:34:26 PM [express] GET /api/enquiries 200 in 605ms :: [{"id":"ad28e2f7-76e3-414d-ad20-4ceb9ecd20df‚Ä¶
[DEBUG][REQ] GET /api/enquiries/ad28e2f7-76e3-414d-ad20-4ceb9ecd20df
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] GET /api/auth/me
6:34:28 PM [express] GET /api/enquiries/ad28e2f7-76e3-414d-ad20-4ceb9ecd20df 200 in 579ms :: {"id":"‚Ä¶
[DEBUG][REQ] GET /api/customers/be266646-de29-4662-b661-4af999091168
6:34:28 PM [express] GET /api/customers/be266646-de29-4662-b661-4af999091168 200 in 288ms :: {"id":"‚Ä¶
[DEBUG][REQ] GET /api/enquiries/ad28e2f7-76e3-414d-ad20-4ceb9ecd20df/items
[DEBUG][REQ] GET /api/items
6:34:30 PM [express] GET /api/enquiries/ad28e2f7-76e3-414d-ad20-4ceb9ecd20df/items 200 in 297ms :: []
6:34:30 PM [express] GET /api/items 304 in 298ms :: [{"id":"550e8400-e29b-41d4-a716-446655440102","s‚Ä¶
6:34:34 PM [express] GET /api/auth/me 304 in 6426ms :: {"user":{"id":"8bcd3a5f-10fc-4491-9258-a62b5b‚Ä¶
[DEBUG][REQ] POST /api/enquiry-items
6:34:43 PM [express] POST /api/enquiry-items 201 in 586ms :: {"id":"5cfa8572-9dfe-4f16-b33e-74a125eb‚Ä¶
[DEBUG][REQ] GET /api/enquiries/ad28e2f7-76e3-414d-ad20-4ceb9ecd20df/items
6:34:43 PM [express] GET /api/enquiries/ad28e2f7-76e3-414d-ad20-4ceb9ecd20df/items 200 in 296ms :: [‚Ä¶
[DEBUG][REQ] POST /api/quotations/generate/ad28e2f7-76e3-414d-ad20-4ceb9ecd20df
[QUOTATION ROUTE DEBUG] {
  method: 'POST',
  url: '/api/quotations/generate/ad28e2f7-76e3-414d-ad20-4ceb9ecd20df',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'content-length': '49',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'content-type': 'application/json',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    origin: 'http://localhost:5000',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/enquiries/ad28e2f7-76e3-414d-ad20-4ceb9ecd20df',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: { userId: 'e459998e-0a4d-4652-946e-44b2ba161d16' },
  params: { id: 'generate' }
}
Generating quotation for enquiry: ad28e2f7-76e3-414d-ad20-4ceb9ecd20df
generateQuotationFromEnquiry called with: {
  enquiryId: 'ad28e2f7-76e3-414d-ad20-4ceb9ecd20df',
  userId: 'e459998e-0a4d-4652-946e-44b2ba161d16'
}
Retrieved enquiry and customer: {
  enquiry: { id: 'ad28e2f7-76e3-414d-ad20-4ceb9ecd20df', notes: null },
  customer: {
    id: 'be266646-de29-4662-b661-4af999091168',
    name: 'Tradix',
    customerType: 'Retail'
  }
}
Retrieved enquiry items: 1 items
Creating quotation with data: {
  customerId: 'be266646-de29-4662-b661-4af999091168',
  customerType: 'Retail',
  enquiryId: 'ad28e2f7-76e3-414d-ad20-4ceb9ecd20df',
  status: 'Draft',
  validUntil: 2025-11-03T13:04:48.327Z,
  subtotal: '0',
  discountPercentage: '0',
  discountAmount: '0',
  taxAmount: '0',
  totalAmount: '0',
  notes: 'Generated from enquiry ENQ-2024-176',
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16'
}
Successfully created quotation: {
  id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
  quoteNumber: 'QT-088327ARRG',
  revision: 1,
  parentQuotationId: null,
  revisionReason: null,
  supersededAt: null,
  supersededBy: null,
  isSuperseded: false,
  enquiryId: 'ad28e2f7-76e3-414d-ad20-4ceb9ecd20df',
  customerId: 'be266646-de29-4662-b661-4af999091168',
  customerType: 'Retail',
  status: 'Draft',
  quoteDate: 2025-10-04T13:04:48.793Z,
  validUntil: 2025-11-03T13:04:48.327Z,
  subtotal: '0.00',
  discountPercentage: '0.00',
  discountAmount: '0.00',
  taxAmount: '0.00',
  totalAmount: '0.00',
  terms: null,
  notes: 'Generated from enquiry ENQ-2024-176',
  approvalStatus: 'Pending',
  requiredApprovalLevel: null,
  approvedBy: null,
  approvedAt: null,
  rejectionReason: null,
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  createdAt: 2025-10-04T13:04:48.627Z,
  updatedAt: 2025-10-04T13:04:48.627Z
}
Creating quotation item (fallback pricing): {
  quotationId: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
  description: 'Tradix Software',
  quantity: 100,
  costPrice: 100,
  markup: 70,
  unitPrice: 170,
  lineTotal: 17000,
  notes: ''
}
Updating quotation totals: { subtotal: '17000.00', totalAmount: '17000.00' }
Error logging audit event: error: invalid input syntax for type uuid: "system"
    at file:///home/dheeraj-prajapat/Downloads/td1-main/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async QuotationStorage.logAuditEvent (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/base.ts:28:7)
    at async QuotationStorage.updateQuotation (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/quotation-storage.ts:239:5)
    at async QuotationStorage.generateQuotationFromEnquiry (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/quotation-storage.ts:412:9)
    at async <anonymous> (/home/dheeraj-prajapat/Downloads/td1-main/server/routes/quotations.ts:200:25) {
  length: 138,
  severity: 'ERROR',
  code: '22P02',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: "unnamed portal parameter $6 = '...'",
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'uuid.c',
  line: '133',
  routine: 'string_to_uuid'
}
Successfully generated quotation with items from enquiry
Quotation generated successfully: 1a3592a2-fd39-40d8-9cbd-9a58d6d36aed
6:34:53 PM [express] POST /api/quotations/generate/ad28e2f7-76e3-414d-ad20-4ceb9ecd20df 201 in 6212m‚Ä¶
[DEBUG][REQ] GET /api/customers/be266646-de29-4662-b661-4af999091168
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/items
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/items',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
Fetching quotation items for quotation ID: 1a3592a2-fd39-40d8-9cbd-9a58d6d36aed
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/history
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/history',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
6:34:54 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/history 200 in 0ms :: ‚Ä¶
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] GET /api/customers
6:34:54 PM [express] GET /api/customers/be266646-de29-4662-b661-4af999091168 304 in 270ms :: {"id":"‚Ä¶
6:34:55 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed 200 in 1666ms :: {"id"‚Ä¶
6:34:55 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions 200 in 1659m‚Ä¶
Found quotation items: 1
6:34:55 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/items 200 in 1677ms ::‚Ä¶
6:34:56 PM [express] GET /api/customers 304 in 2189ms :: {"customers":[{"id":"be266646-de29-4662-b66‚Ä¶
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] POST /api/customer-quotes
Validating suppliers: [ '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5' ]
6:35:04 PM [express] POST /api/customer-quotes 201 in 1486ms :: {"message":"Quote request sent succe‚Ä¶
[DEBUG][REQ] GET /api/quotations?
[DEBUG][REQ] GET /favicon.ico
6:35:08 PM [express] GET /api/quotations 200 in 565ms :: [{"id":"1a3592a2-fd39-40d8-9cbd-9a58d6d36ae‚Ä¶
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/items
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/items',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"144-T2Kp2xaAzbJJjrIVeX7nK9+18Eg"'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
Fetching quotation items for quotation ID: 1a3592a2-fd39-40d8-9cbd-9a58d6d36aed
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/history
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/history',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
6:35:09 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/history 304 in 3ms :: ‚Ä¶
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"398-j/lvnVClfBvnqb8tFeHaj/dSlrA"'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
Found quotation items: 1
6:35:09 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/items 304 in 303ms :: ‚Ä¶
6:35:14 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions 304 in 4783m‚Ä¶
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
6:35:14 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed 304 in 4793ms :: {"id"‚Ä¶
[DEBUG][REQ] GET /favicon.ico
6:35:14 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions 304 in 273ms‚Ä¶
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"398-j/lvnVClfBvnqb8tFeHaj/dSlrA"'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
6:35:14 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed 304 in 270ms :: {"id":‚Ä¶
[DEBUG][REQ] PUT /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed
[QUOTATION ROUTE DEBUG] {
  method: 'PUT',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'content-length': '49',
    'x-user-role': 'admin',
    'sec-ch-ua-platform': '"Linux"',
    'x-user-id': '8bcd3a5f-10fc-4491-9258-a62b5bfde36e',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'content-type': 'application/json',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    origin: 'http://localhost:5000',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: { approvalStatus: 'Approved', status: 'Approved' },
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
[QUOTATION STATUS UPDATE - INCOMING] {
  userId: '8bcd3a5f-10fc-4491-9258-a62b5bfde36e',
  optionalUserId: '8bcd3a5f-10fc-4491-9258-a62b5bfde36e',
  role: 'admin',
  payload: { approvalStatus: 'Approved', status: 'Approved' },
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
[QUOTATION STATUS UPDATE - USER ID VALIDATION] { userId: '8bcd3a5f-10fc-4491-9258-a62b5bfde36e', isValidUUID: true }
[QUOTATION STATUS UPDATE - FILTERED FIELDS] {
  status: 'Accepted',
  approvalStatus: 'Approved',
  approvedBy: '8bcd3a5f-10fc-4491-9258-a62b5bfde36e',
  approvedAt: 2025-10-04T13:05:14.954Z
}
Error logging audit event: error: invalid input syntax for type uuid: "system"
    at file:///home/dheeraj-prajapat/Downloads/td1-main/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async QuotationStorage.logAuditEvent (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/base.ts:28:7)
    at async QuotationStorage.updateQuotation (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/quotation-storage.ts:239:5)
    at async <anonymous> (/home/dheeraj-prajapat/Downloads/td1-main/server/routes/quotations.ts:169:27) {
  length: 138,
  severity: 'ERROR',
  code: '22P02',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: "unnamed portal parameter $6 = '...'",
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'uuid.c',
  line: '133',
  routine: 'string_to_uuid'
}
[QUOTATION STATUS UPDATED] {
  id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
  quoteNumber: 'QT-088327ARRG',
  revision: 1,
  parentQuotationId: null,
  revisionReason: null,
  supersededAt: null,
  supersededBy: null,
  isSuperseded: false,
  enquiryId: 'ad28e2f7-76e3-414d-ad20-4ceb9ecd20df',
  customerId: 'be266646-de29-4662-b661-4af999091168',
  customerType: 'Retail',
  status: 'Accepted',
  quoteDate: 2025-10-04T13:04:48.793Z,
  validUntil: 2025-11-03T13:04:48.327Z,
  subtotal: '17000.00',
  discountPercentage: '0.00',
  discountAmount: '0.00',
  taxAmount: '0.00',
  totalAmount: '17000.00',
  terms: null,
  notes: 'Generated from enquiry ENQ-2024-176',
  approvalStatus: 'Approved',
  requiredApprovalLevel: null,
  approvedBy: '8bcd3a5f-10fc-4491-9258-a62b5bfde36e',
  approvedAt: 2025-10-04T13:05:14.954Z,
  rejectionReason: null,
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  createdAt: 2025-10-04T13:04:48.627Z,
  updatedAt: 2025-10-04T13:05:15.770Z,
  customerPoNumber: null,
  customerPoDocument: null,
  customerPoDocumentName: null
}
6:35:16 PM [express] PUT /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed 200 in 1360ms :: {"id"‚Ä¶
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/items
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/items',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"144-T2Kp2xaAzbJJjrIVeX7nK9+18Eg"'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
Fetching quotation items for quotation ID: 1a3592a2-fd39-40d8-9cbd-9a58d6d36aed
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/history
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/history',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
6:35:16 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/history 304 in 1ms :: ‚Ä¶
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/history
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/history',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
6:35:16 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/history 304 in 1ms :: ‚Ä¶
6:35:16 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed 200 in 283ms :: {"id":‚Ä¶
Found quotation items: 1
6:35:16 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/items 304 in 278ms :: ‚Ä¶
6:35:16 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions 304 in 281ms‚Ä¶
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"2-l9Fw4VUO7kr8CvBlt4zaMCqXZ0w"'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
6:35:16 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed/revisions 304 in 280ms‚Ä¶
[DEBUG][REQ] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed
[QUOTATION ROUTE DEBUG] {
  method: 'GET',
  url: '/api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
  headers: {
    host: 'localhost:5000',
    connection: 'keep-alive',
    'sec-ch-ua-platform': '"Linux"',
    'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36',
    'sec-ch-ua': '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    accept: '*/*',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-mode': 'cors',
    'sec-fetch-dest': 'empty',
    referer: 'http://localhost:5000/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'en-IN,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,hi;q=0.6',
    cookie: 'connect.sid=s%3A_6XUQt0cvYb1huGx3oKW9H9ldVaykJeP.daczb%2F2fukFOo7OPzWRWPbeZ7DI0kkD8pXOqsIXSP2w',
    'if-none-match': 'W/"3d4-/0NwnvBu6s8NjvHnL1IZHMLYKaU"'
  },
  body: {},
  params: { id: '1a3592a2-fd39-40d8-9cbd-9a58d6d36aed' }
}
6:35:17 PM [express] GET /api/quotations/1a3592a2-fd39-40d8-9cbd-9a58d6d36aed 304 in 286ms :: {"id":‚Ä¶
[DEBUG][REQ] GET /api/quotations?
[DEBUG][REQ] GET /favicon.ico
6:35:19 PM [express] GET /api/quotations 200 in 567ms :: [{"id":"1a3592a2-fd39-40d8-9cbd-9a58d6d36ae‚Ä¶
[DEBUG][REQ] GET /api/quotations
[DEBUG][REQ] GET /api/auth/me
[DEBUG][REQ] GET /favicon.ico
6:35:20 PM [express] GET /api/quotations 200 in 579ms :: [{"id":"1a3592a2-fd39-40d8-9cbd-9a58d6d36ae‚Ä¶
6:35:21 PM [express] GET /api/auth/me 304 in 820ms :: {"user":{"id":"8bcd3a5f-10fc-4491-9258-a62b5bf‚Ä¶
[DEBUG][REQ] POST /api/files/upload
File upload request received
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryO0GN84pPjF7OU2IX
req.files: [
  {
    fieldname: 'files',
    originalname: 'purchase-invoice-PI-20251004-N92KV.pdf',
    encoding: '7bit',
    mimetype: 'application/pdf',
    destination: '/home/dheeraj-prajapat/Downloads/td1-main/uploads',
    filename: 'd43c095a-ed50-4f54-803c-8dd8bff93a49.pdf',
    path: '/home/dheeraj-prajapat/Downloads/td1-main/uploads/d43c095a-ed50-4f54-803c-8dd8bff93a49.pdf',
    size: 17872
  }
]
Files processed: 1
Responding with uploaded files: [
  {
    id: 'd43c095a-ed50-4f54-803c-8dd8bff93a49',
    name: 'purchase-invoice-PI-20251004-N92KV.pdf',
    filename: 'd43c095a-ed50-4f54-803c-8dd8bff93a49.pdf',
    size: 17872,
    mimetype: 'application/pdf',
    path: '/api/files/download/d43c095a-ed50-4f54-803c-8dd8bff93a49.pdf',
    uploadedAt: '2025-10-04T13:05:45.136Z'
  }
]
6:35:45 PM [express] POST /api/files/upload 200 in 4372ms :: {"message":"Files uploaded successfully‚Ä¶
[DEBUG][REQ] POST /api/customer-po-upload
[PO-STORAGE] createPurchaseOrder received: { poDateType: 'object', poDateValue: 2025-10-04T13:05:45.428Z }
6:35:46 PM [express] POST /api/customer-po-upload 201 in 1130ms :: {"id":"e68ea3b9-11e4-4b66-aae5-33‚Ä¶
[DEBUG][REQ] GET /api/quotations
6:35:47 PM [express] GET /api/quotations 200 in 558ms :: [{"id":"1a3592a2-fd39-40d8-9cbd-9a58d6d36ae‚Ä¶
[DEBUG][REQ] GET /api/quotations
6:35:47 PM [express] GET /api/quotations 304 in 277ms :: [{"id":"1a3592a2-fd39-40d8-9cbd-9a58d6d36ae‚Ä¶
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] POST /api/sales-orders/from-quotation
6:35:53 PM [express] POST /api/sales-orders/from-quotation 201 in 1966ms :: {"id":"37de77f1-1b84-4ba‚Ä¶
[DEBUG][REQ] GET /api/sales-orders
6:35:54 PM [express] GET /api/sales-orders 200 in 553ms :: [{"id":"37de77f1-1b84-4ba3-9749-875884619‚Ä¶
[DEBUG][REQ] PUT /api/sales-orders/37de77f1-1b84-4ba3-9749-8758846198d8
6:35:58 PM [express] PUT /api/sales-orders/37de77f1-1b84-4ba3-9749-8758846198d8 200 in 318ms :: {"id‚Ä¶
[DEBUG][REQ] GET /api/sales-orders
6:35:58 PM [express] GET /api/sales-orders 200 in 556ms :: [{"id":"37de77f1-1b84-4ba3-9749-875884619‚Ä¶
[DEBUG][REQ] GET /api/sales-orders/37de77f1-1b84-4ba3-9749-8758846198d8/items
6:35:59 PM [express] GET /api/sales-orders/37de77f1-1b84-4ba3-9749-8758846198d8/items 200 in 283ms :‚Ä¶
[DEBUG][REQ] PUT /api/sales-orders/37de77f1-1b84-4ba3-9749-8758846198d8/validate-lpo
6:36:03 PM [express] PUT /api/sales-orders/37de77f1-1b84-4ba3-9749-8758846198d8/validate-lpo 200 in ‚Ä¶
[DEBUG][REQ] GET /api/sales-orders
[DEBUG][REQ] GET /api/sales-orders/37de77f1-1b84-4ba3-9749-8758846198d8/items
6:36:04 PM [express] GET /api/sales-orders 200 in 569ms :: [{"id":"37de77f1-1b84-4ba3-9749-875884619‚Ä¶
6:36:05 PM [express] GET /api/sales-orders/37de77f1-1b84-4ba3-9749-8758846198d8/items 304 in 1665ms ‚Ä¶
[DEBUG][REQ] GET /api/delivery-notes?page=1&pageSize=15
[DEBUG][REQ] GET /api/sales-orders
[DEBUG][REQ] GET /favicon.ico
6:36:06 PM [express] GET /api/sales-orders 304 in 553ms :: [{"id":"37de77f1-1b84-4ba3-9749-875884619‚Ä¶
6:36:06 PM [express] GET /api/delivery-notes 304 in 588ms :: [{"id":"6bc0e90a-fa41-4936-9022-94a1092‚Ä¶
[DEBUG][REQ] POST /api/delivery-notes
6:36:37 PM [express] POST /api/delivery-notes 200 in 1659ms :: {"id":"ca950ca5-b0ec-4cf9-a651-756640‚Ä¶
[DEBUG][REQ] GET /api/delivery-notes?page=1&pageSize=15
6:36:37 PM [express] GET /api/delivery-notes 200 in 561ms :: [{"id":"ca950ca5-b0ec-4cf9-a651-7566409‚Ä¶
[DEBUG][REQ] GET /api/delivery-notes?page=1&pageSize=15
6:36:38 PM [express] GET /api/delivery-notes 304 in 281ms :: [{"id":"ca950ca5-b0ec-4cf9-a651-7566409‚Ä¶
[DEBUG][REQ] PATCH /api/delivery-notes/ca950ca5-b0ec-4cf9-a651-756640915d9b
PATCH /api/delivery-notes/:id {
  id: 'ca950ca5-b0ec-4cf9-a651-756640915d9b',
  body: {
    status: 'Complete',
    updatedAt: '2025-10-04T13:06:42.944Z',
    pickingCompletedBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
    pickingCompletedAt: 2025-10-04T13:06:42.944Z,
    deliveryConfirmedBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
    deliveryConfirmedAt: 2025-10-04T13:06:42.944Z,
    actualDeliveryDate: 2025-10-04T13:06:42.944Z
  }
}
Updating delivery with data: {
  id: 'ca950ca5-b0ec-4cf9-a651-756640915d9b',
  filteredData: {
    status: 'Complete',
    updatedAt: 2025-10-04T13:06:42.957Z,
    pickingCompletedBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
    pickingCompletedAt: 2025-10-04T13:06:42.944Z,
    deliveryConfirmedBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
    deliveryConfirmedAt: 2025-10-04T13:06:42.944Z,
    actualDeliveryDate: 2025-10-04T13:06:42.944Z
  }
}
Delivery updated successfully: {
  id: 'ca950ca5-b0ec-4cf9-a651-756640915d9b',
  deliveryNumber: 'SO-2025-163',
  salesOrderId: '37de77f1-1b84-4ba3-9749-8758846198d8',
  deliveryDate: 2025-10-05T13:06:00.000Z,
  status: 'Complete',
  deliveryType: 'Full',
  deliveryAddress: 'India',
  deliveryNotes: null,
  deliveryDocument: null,
  deliveryDocumentName: null,
  deliveryDocumentSize: null,
  pickingStartedBy: null,
  pickingStartedAt: null,
  pickingCompletedBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  pickingCompletedAt: 2025-10-04T13:06:42.944Z,
  pickingNotes: null,
  deliveryConfirmedBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  deliveryConfirmedAt: 2025-10-04T13:06:42.944Z,
  deliverySignature: null,
  trackingNumber: null,
  carrierName: null,
  estimatedDeliveryDate: null,
  actualDeliveryDate: 2025-10-04T13:06:42.944Z,
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  createdAt: 2025-10-04T13:06:37.224Z,
  updatedAt: 2025-10-04T13:06:42.957Z
}
6:36:43 PM [express] PATCH /api/delivery-notes/ca950ca5-b0ec-4cf9-a651-756640915d9b 200 in 307ms :: ‚Ä¶
[DEBUG][REQ] GET /api/delivery-notes?page=1&pageSize=15
6:36:43 PM [express] GET /api/delivery-notes 200 in 599ms :: [{"id":"ca950ca5-b0ec-4cf9-a651-7566409‚Ä¶
[DEBUG][REQ] GET /api/delivery-notes?page=1&pageSize=15
6:36:44 PM [express] GET /api/delivery-notes 304 in 318ms :: [{"id":"ca950ca5-b0ec-4cf9-a651-7566409‚Ä¶
[DEBUG][REQ] GET /api/invoices
[DEBUG][REQ] GET /api/deliveries
[DEBUG][REQ] GET /favicon.ico
6:36:46 PM [express] GET /api/invoices 304 in 634ms :: [{"id":"37bcf881-32eb-434c-a64d-5a3835011879"‚Ä¶
6:36:48 PM [express] GET /api/deliveries 200 in 2279ms :: [{"id":"ca950ca5-b0ec-4cf9-a651-756640915d‚Ä¶
[DEBUG][REQ] POST /api/invoices/generate-from-delivery
[ROUTE] Invoice generation request received: {
  deliveryId: 'ca950ca5-b0ec-4cf9-a651-756640915d9b',
  invoiceType: 'Standard'
}
[ROUTE] Calling storage.generateInvoiceFromDelivery with: {
  deliveryId: 'ca950ca5-b0ec-4cf9-a651-756640915d9b',
  invoiceType: 'Standard',
  userId: undefined
}
[ROUTE] Testing storage access...
[ROUTE] Storage test successful, found 1 invoices
[DEBUG] Starting invoice generation for delivery: ca950ca5-b0ec-4cf9-a651-756640915d9b
[DEBUG] Found delivery: SO-2025-163
[DEBUG] Sales order ID: 37de77f1-1b84-4ba3-9749-8758846198d8
[DEBUG] Found sales order: SO-2025-163
[DEBUG] Found 0 delivery items
[DEBUG] Delivery items data: []
[DEBUG] No delivery items found, creating from sales order items
[DEBUG] Found 1 sales order items
[DEBUG] Created 1 virtual delivery items
[DEBUG] Processing delivery item: virtual-be3d046d-a8e3-4041-8493-077ab5383645
[DEBUG] Sales order item: be3d046d-a8e3-4041-8493-077ab5383645
[DEBUG] Sales order item data: {
  id: 'be3d046d-a8e3-4041-8493-077ab5383645',
  itemId: 'c19058e1-fb1c-4cfc-b5be-00ff1f9f891d',
  quantity: 100,
  unitPrice: '170.00',
  totalPrice: '17000.00'
}
[DEBUG] Item ID: c19058e1-fb1c-4cfc-b5be-00ff1f9f891d, Barcode: AUTO-1759583211821-0, Supplier Code: AUTO-SUP
[DEBUG] Error fetching item c19058e1-fb1c-4cfc-b5be-00ff1f9f891d: error: syntax error at or near ")"
    at file:///home/dheeraj-prajapat/Downloads/td1-main/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (/home/dheeraj-prajapat/Downloads/td1-main/node_modules/src/neon-serverless/session.ts:102:18)
    at async InvoiceStorage.generateInvoiceFromDelivery (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/invoice-storage.ts:192:27)
    at async <anonymous> (/home/dheeraj-prajapat/Downloads/td1-main/server/routes/invoice.ts:327:23) {
  length: 90,
  severity: 'ERROR',
  code: '42601',
  detail: undefined,
  hint: undefined,
  position: '15',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'scan.l',
  line: '1244',
  routine: 'scanner_yyerror'
}
[DEBUG] Continuing without item master data for itemId: c19058e1-fb1c-4cfc-b5be-00ff1f9f891d
[DEBUG] Subtotal calculated: 17000
[DEBUG] Invoice items to insert: 1
[DEBUG] Items processed: 1
[DEBUG] Validation passed - proceeding with invoice creation
[DEBUG] Sales Order ID: 37de77f1-1b84-4ba3-9749-8758846198d8
[DEBUG] Customer ID: be266646-de29-4662-b661-4af999091168
[DEBUG] Subtotal: 17000
[DEBUG] Generated invoice number: INV-2123888XVX
[DEBUG] Inserting invoice with customerId: be266646-de29-4662-b661-4af999091168
[DEBUG] Invoice created successfully: cfbce797-8126-48a4-9a32-7b6bb29028be
[DEBUG] Updating invoice items with invoice ID: cfbce797-8126-48a4-9a32-7b6bb29028be
[DEBUG] Inserting 1 invoice items
[DEBUG] Invoice items inserted successfully
[DEBUG] Invoice generation completed successfully
[ROUTE] Invoice generation successful: cfbce797-8126-48a4-9a32-7b6bb29028be
6:36:52 PM [express] POST /api/invoices/generate-from-delivery 201 in 2549ms :: {"id":"cfbce797-8126‚Ä¶
[DEBUG][REQ] GET /api/invoices
6:36:53 PM [express] GET /api/invoices 200 in 606ms :: [{"id":"cfbce797-8126-48a4-9a32-7b6bb29028be"‚Ä¶
[DEBUG][REQ] PUT /api/invoices/cfbce797-8126-48a4-9a32-7b6bb29028be
6:36:56 PM [express] PUT /api/invoices/cfbce797-8126-48a4-9a32-7b6bb29028be 200 in 291ms :: {"id":"c‚Ä¶
[DEBUG][REQ] GET /api/invoices
6:36:56 PM [express] GET /api/invoices 200 in 579ms :: [{"id":"cfbce797-8126-48a4-9a32-7b6bb29028be"‚Ä¶
[DEBUG][REQ] PUT /api/invoices/cfbce797-8126-48a4-9a32-7b6bb29028be
6:36:57 PM [express] PUT /api/invoices/cfbce797-8126-48a4-9a32-7b6bb29028be 200 in 281ms :: {"id":"c‚Ä¶
[DEBUG][REQ] GET /api/invoices
6:36:58 PM [express] GET /api/invoices 200 in 554ms :: [{"id":"cfbce797-8126-48a4-9a32-7b6bb29028be"‚Ä¶
[DEBUG][REQ] GET /api/invoices/cfbce797-8126-48a4-9a32-7b6bb29028be/pdf?invoiceType=Standard
Error fetching delivery: TypeError: Cannot read properties of undefined (reading 'status')
    at DeliveryStorage.getDelivery (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/delivery-storage.ts:158:69)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async <anonymous> (/home/dheeraj-prajapat/Downloads/td1-main/server/routes/invoice.ts:429:22)
Could not fetch related order/delivery data: Error: Failed to fetch delivery
    at DeliveryStorage.getDelivery (/home/dheeraj-prajapat/Downloads/td1-main/server/storage/delivery-storage.ts:168:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async <anonymous> (/home/dheeraj-prajapat/Downloads/td1-main/server/routes/invoice.ts:429:22)
Of the table content, 30 units width could not fit page
Of the table content, 86 units width could not fit page
6:37:01 PM [express] GET /api/invoices/cfbce797-8126-48a4-9a32-7b6bb29028be/pdf 200 in 1714ms
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] GET /api/supplier-quotes?status=&priority=&supplier=&currency=&search=&dateFrom=&dateTo=
SupplierQuoteStorage.list called with params: {
  page: 1,
  limit: 20,
  search: '',
  status: '',
  priority: '',
  supplier: '',
  currency: '',
  dateFrom: '',
  dateTo: ''
}
Executing query: 
        SELECT 
          sq.id,
          sq.quote_number as "quoteNumber",
          sq.supplier_id as "supplierId",
          sq.status,
          sq.priority,
          sq.quote_date as "quoteDate",
          sq.valid_until as "validUntil",
          sq.request_date as "requestDate",
          sq.response_date as "responseDate",
          sq.subtotal,
          sq.discount_percentage as "discountPercentage",
          sq.discount_amount as "discountAmount",
          sq.tax_amount as "taxAmount",
          sq.total_amount as "totalAmount",
          sq.currency,
          sq.terms,
          sq.notes,
          sq.requisition_id as "requisitionId",
          sq.payment_terms as "paymentTerms",
          sq.delivery_terms as "deliveryTerms",
          sq.rfq_number as "rfqNumber",
          sq.evaluation_score as "evaluationScore",
          sq.competitive_rank as "competitiveRank",
          sq.is_preferred_supplier as "isPreferredSupplier",
          sq.created_by as "createdBy",
          sq.created_at as "createdAt",
          sq.updated_at as "updatedAt",
          s.id as "supplierId",
          s.name as "supplierName",
          s.email as "supplierEmail",
          s.phone as "supplierPhone",
          s.address as "supplierAddress",
          s.contact_person as "supplierContactPerson"
        FROM supplier_quotes sq
        LEFT JOIN suppliers s ON sq.supplier_id = s.id
        
        ORDER BY sq.created_at DESC
        LIMIT $1 OFFSET $2
      
Query params: [ 20, 0 ]
Query result rows: 19
6:37:11 PM [express] GET /api/supplier-quotes 200 in 838ms :: {"data":[{"id":"0580a4d3-4b2d-46b0-a86‚Ä¶
[DEBUG][REQ] GET /favicon.ico
[DEBUG][REQ] PATCH /api/supplier-quotes/0580a4d3-4b2d-46b0-a865-5eac9f0a2727
Updating supplier quote: 0580a4d3-4b2d-46b0-a865-5eac9f0a2727 with data: {
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  rfqNumber: '',
  priority: 'Medium',
  validUntil: '2025-11-03T13:05:03.784Z',
  paymentTerms: 'Net 30',
  deliveryTerms: 'FOB Destination',
  notes: 'Quote request for enquiry ENQ-2024-176 from customer Tradix',
  status: 'Accepted',
  currency: 'BHD'
}
Parsed data: {
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  status: 'Accepted',
  priority: 'Medium',
  validUntil: '2025-11-03T13:05:03.784Z',
  currency: 'BHD',
  paymentTerms: 'Net 30',
  deliveryTerms: 'FOB Destination',
  notes: 'Quote request for enquiry ENQ-2024-176 from customer Tradix',
  rfqNumber: ''
}
Existing quote found: 0580a4d3-4b2d-46b0-a865-5eac9f0a2727
Validating supplier ID: 3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5
Supplier query result: [
  {
    id: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
    name: 'Sleeploop India Pvt Ltd',
    email: 'n@gmail.cm',
    phone: '76988988',
    address: 'bhjb',
    contactPerson: 'Naresh',
    paymentTerms: null,
    isActive: true,
    createdAt: 2025-09-28T06:33:13.219Z,
    updatedAt: 2025-09-28T06:33:37.938Z
  }
]
Supplier validated: 3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5
Processed data for update: {
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  status: 'Accepted',
  priority: 'Medium',
  currency: 'BHD',
  notes: 'Quote request for enquiry ENQ-2024-176 from customer Tradix',
  validUntil: 2025-11-03T13:05:03.784Z,
  terms: 'Payment Terms: Net 30\nDelivery Terms: FOB Destination'
}
Update query: 
        UPDATE supplier_quotes 
        SET supplier_id = $1, status = $2, priority = $3, currency = $4, notes = $5, valid_until = $6, updated_at = $7
        WHERE id = $8
      
Update values: [
  '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  'Accepted',
  'Medium',
  'BHD',
  'Quote request for enquiry ENQ-2024-176 from customer Tradix',
  2025-11-03T13:05:03.784Z,
  2025-10-04T13:07:17.468Z,
  '0580a4d3-4b2d-46b0-a865-5eac9f0a2727'
]
Update successful: 0580a4d3-4b2d-46b0-a865-5eac9f0a2727
6:37:18 PM [express] PATCH /api/supplier-quotes/0580a4d3-4b2d-46b0-a865-5eac9f0a2727 200 in 1140ms :‚Ä¶
[DEBUG][REQ] GET /api/supplier-quotes?status=&priority=&supplier=&currency=&search=&dateFrom=&dateTo=
SupplierQuoteStorage.list called with params: {
  page: 1,
  limit: 20,
  search: '',
  status: '',
  priority: '',
  supplier: '',
  currency: '',
  dateFrom: '',
  dateTo: ''
}
Executing query: 
        SELECT 
          sq.id,
          sq.quote_number as "quoteNumber",
          sq.supplier_id as "supplierId",
          sq.status,
          sq.priority,
          sq.quote_date as "quoteDate",
          sq.valid_until as "validUntil",
          sq.request_date as "requestDate",
          sq.response_date as "responseDate",
          sq.subtotal,
          sq.discount_percentage as "discountPercentage",
          sq.discount_amount as "discountAmount",
          sq.tax_amount as "taxAmount",
          sq.total_amount as "totalAmount",
          sq.currency,
          sq.terms,
          sq.notes,
          sq.requisition_id as "requisitionId",
          sq.payment_terms as "paymentTerms",
          sq.delivery_terms as "deliveryTerms",
          sq.rfq_number as "rfqNumber",
          sq.evaluation_score as "evaluationScore",
          sq.competitive_rank as "competitiveRank",
          sq.is_preferred_supplier as "isPreferredSupplier",
          sq.created_by as "createdBy",
          sq.created_at as "createdAt",
          sq.updated_at as "updatedAt",
          s.id as "supplierId",
          s.name as "supplierName",
          s.email as "supplierEmail",
          s.phone as "supplierPhone",
          s.address as "supplierAddress",
          s.contact_person as "supplierContactPerson"
        FROM supplier_quotes sq
        LEFT JOIN suppliers s ON sq.supplier_id = s.id
        
        ORDER BY sq.created_at DESC
        LIMIT $1 OFFSET $2
      
Query params: [ 20, 0 ]
Query result rows: 19
6:37:18 PM [express] GET /api/supplier-quotes 200 in 833ms :: {"data":[{"id":"0580a4d3-4b2d-46b0-a86‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos?limit=20&offset=0
[DEBUG][REQ] GET /api/supplier-quotes?status=Accepted&limit=50
SupplierQuoteStorage.list called with params: { page: 1, limit: 50, status: 'Accepted' }
Executing query: 
        SELECT 
          sq.id,
          sq.quote_number as "quoteNumber",
          sq.supplier_id as "supplierId",
          sq.status,
          sq.priority,
          sq.quote_date as "quoteDate",
          sq.valid_until as "validUntil",
          sq.request_date as "requestDate",
          sq.response_date as "responseDate",
          sq.subtotal,
          sq.discount_percentage as "discountPercentage",
          sq.discount_amount as "discountAmount",
          sq.tax_amount as "taxAmount",
          sq.total_amount as "totalAmount",
          sq.currency,
          sq.terms,
          sq.notes,
          sq.requisition_id as "requisitionId",
          sq.payment_terms as "paymentTerms",
          sq.delivery_terms as "deliveryTerms",
          sq.rfq_number as "rfqNumber",
          sq.evaluation_score as "evaluationScore",
          sq.competitive_rank as "competitiveRank",
          sq.is_preferred_supplier as "isPreferredSupplier",
          sq.created_by as "createdBy",
          sq.created_at as "createdAt",
          sq.updated_at as "updatedAt",
          s.id as "supplierId",
          s.name as "supplierName",
          s.email as "supplierEmail",
          s.phone as "supplierPhone",
          s.address as "supplierAddress",
          s.contact_person as "supplierContactPerson"
        FROM supplier_quotes sq
        LEFT JOIN suppliers s ON sq.supplier_id = s.id
        WHERE sq.status = $1
        ORDER BY sq.created_at DESC
        LIMIT $2 OFFSET $3
      
Query params: [ 'Accepted', 50, 0 ]
[DEBUG][REQ] GET /api/suppliers
[DEBUG][REQ] GET /api/supplier-lpos?limit=1000
[DEBUG][REQ] GET /favicon.ico
6:37:22 PM [express] GET /api/supplier-lpos 304 in 865ms :: {"data":[{"id":"8c4aeafb-a9fe-4f6b-9757-‚Ä¶
Query result rows: 6
6:37:23 PM [express] GET /api/suppliers 304 in 1647ms :: [{"id":"f4161276-5f20-465a-bbfc-8389bd9f1ac‚Ä¶
6:37:23 PM [express] GET /api/supplier-quotes 200 in 1936ms :: {"data":[{"id":"0580a4d3-4b2d-46b0-a8‚Ä¶
6:37:24 PM [express] GET /api/supplier-lpos 304 in 2462ms :: {"data":[{"id":"8c4aeafb-a9fe-4f6b-9757‚Ä¶
[DEBUG][REQ] POST /api/supplier-lpos/from-supplier-quotes
[SupplierLpoStorage.createSupplierLpo] Preparing insert {
  lpoNumber: 'LPO-2494749SAU',
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5'
}
[SupplierLpoStorage.createSupplierLpo] Insert record {
  lpoNumber: 'LPO-2494749SAU',
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  status: 'Draft',
  sourceType: 'SupplierQuote',
  groupingCriteria: 'supplier',
  subtotal: 10000,
  taxAmount: 0,
  totalAmount: 10000,
  currency: 'BHD',
  requiresApproval: false,
  approvalStatus: 'Not Required',
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  createdAt: 2025-10-04T13:07:29.474Z,
  updatedAt: 2025-10-04T13:07:29.474Z,
  version: 1,
  sourceSalesOrderIds: undefined,
  sourceQuotationIds: [ '0580a4d3-4b2d-46b0-a865-5eac9f0a2727' ]
}
[SupplierLpoStorage.createSupplierLpo] Insert result [
  {
    id: '4f356b33-7971-4274-8326-90bbd6fbcd30',
    lpoNumber: 'LPO-2494749SAU',
    supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
    status: 'Draft',
    lpoDate: 2025-10-04T13:07:29.643Z,
    expectedDeliveryDate: null,
    requestedDeliveryDate: null,
    sourceType: 'SupplierQuote',
    sourceSalesOrderIds: null,
    sourceQuotationIds: [ '0580a4d3-4b2d-46b0-a865-5eac9f0a2727' ],
    groupingCriteria: 'supplier',
    subtotal: '10000.00',
    taxAmount: '0.00',
    totalAmount: '10000.00',
    currency: 'BHD',
    supplierContactPerson: null,
    supplierEmail: null,
    supplierPhone: null,
    paymentTerms: null,
    deliveryTerms: null,
    termsAndConditions: null,
    specialInstructions: null,
    version: 1,
    parentLpoId: null,
    amendmentReason: null,
    amendmentType: null,
    requiresApproval: false,
    approvalStatus: 'Not Required',
    approvedBy: null,
    approvedAt: null,
    approvalNotes: null,
    sentToSupplierAt: null,
    confirmedBySupplierAt: null,
    supplierConfirmationReference: null,
    createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
    createdAt: 2025-10-04T13:07:29.474Z,
    updatedAt: 2025-10-04T13:07:29.474Z
  }
]
6:37:30 PM [express] POST /api/supplier-lpos/from-supplier-quotes 201 in 1166ms :: [{"id":"4f356b33-‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos?limit=20&offset=0
[DEBUG][REQ] GET /api/supplier-lpos?limit=1000
[DEBUG][REQ] GET /api/supplier-quotes?status=Accepted&limit=50
SupplierQuoteStorage.list called with params: { page: 1, limit: 50, status: 'Accepted' }
Executing query: 
        SELECT 
          sq.id,
          sq.quote_number as "quoteNumber",
          sq.supplier_id as "supplierId",
          sq.status,
          sq.priority,
          sq.quote_date as "quoteDate",
          sq.valid_until as "validUntil",
          sq.request_date as "requestDate",
          sq.response_date as "responseDate",
          sq.subtotal,
          sq.discount_percentage as "discountPercentage",
          sq.discount_amount as "discountAmount",
          sq.tax_amount as "taxAmount",
          sq.total_amount as "totalAmount",
          sq.currency,
          sq.terms,
          sq.notes,
          sq.requisition_id as "requisitionId",
          sq.payment_terms as "paymentTerms",
          sq.delivery_terms as "deliveryTerms",
          sq.rfq_number as "rfqNumber",
          sq.evaluation_score as "evaluationScore",
          sq.competitive_rank as "competitiveRank",
          sq.is_preferred_supplier as "isPreferredSupplier",
          sq.created_by as "createdBy",
          sq.created_at as "createdAt",
          sq.updated_at as "updatedAt",
          s.id as "supplierId",
          s.name as "supplierName",
          s.email as "supplierEmail",
          s.phone as "supplierPhone",
          s.address as "supplierAddress",
          s.contact_person as "supplierContactPerson"
        FROM supplier_quotes sq
        LEFT JOIN suppliers s ON sq.supplier_id = s.id
        WHERE sq.status = $1
        ORDER BY sq.created_at DESC
        LIMIT $2 OFFSET $3
      
Query params: [ 'Accepted', 50, 0 ]
[DEBUG][REQ] GET /api/suppliers
Query result rows: 6
6:37:30 PM [express] GET /api/suppliers 304 in 282ms :: [{"id":"f4161276-5f20-465a-bbfc-8389bd9f1acc‚Ä¶
6:37:30 PM [express] GET /api/supplier-lpos 200 in 563ms :: {"data":[{"id":"4f356b33-7971-4274-8326-‚Ä¶
6:37:30 PM [express] GET /api/supplier-quotes 304 in 574ms :: {"data":[{"id":"0580a4d3-4b2d-46b0-a86‚Ä¶
6:37:31 PM [express] GET /api/supplier-lpos 200 in 1133ms :: {"data":[{"id":"4f356b33-7971-4274-8326‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos?limit=1000
6:37:31 PM [express] GET /api/supplier-lpos 304 in 594ms :: {"data":[{"id":"4f356b33-7971-4274-8326-‚Ä¶
[DEBUG][REQ] PATCH /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30
[PATCH] /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30 - Received data: {
  id: '4f356b33-7971-4274-8326-90bbd6fbcd30',
  lpoNumber: 'LPO-2494749SAU',
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  supplierName: 'Sleeploop India Pvt Ltd',
  status: 'Confirmed',
  lpoDate: '2025-10-04T13:07:29.643Z',
  expectedDeliveryDate: '2025-10-05',
  requestedDeliveryDate: null,
  subtotal: '10000.00',
  taxAmount: '0.00',
  totalAmount: '10000.00',
  currency: 'BHD',
  approvalStatus: 'Not Required',
  requiresApproval: false,
  paymentTerms: null,
  deliveryTerms: null,
  version: 1,
  createdAt: '2025-10-04T13:07:29.474Z',
  updatedAt: '2025-10-04T13:07:29.474Z',
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  sourceType: 'SupplierQuote',
  sourceSalesOrderIds: null,
  sourceQuotationIds: [ '0580a4d3-4b2d-46b0-a865-5eac9f0a2727' ],
  groupingCriteria: 'supplier',
  termsAndConditions: null,
  specialInstructions: null,
  parentLpoId: null,
  amendmentReason: null,
  amendmentType: null,
  approvedBy: null,
  approvedAt: null,
  approvalNotes: null,
  sentToSupplierAt: null,
  confirmedBySupplierAt: null,
  supplierConfirmationReference: null,
  supplierContactPerson: null,
  supplierEmail: null,
  supplierPhone: null
}
[PATCH] /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30 - Filtered data for update: {
  status: 'Confirmed',
  expectedDeliveryDate: 2025-10-05T00:00:00.000Z,
  requestedDeliveryDate: null,
  specialInstructions: null,
  deliveryTerms: null,
  paymentTerms: null,
  termsAndConditions: null,
  currency: 'BHD',
  totalAmount: 10000,
  subtotal: 10000,
  taxAmount: 0,
  supplierContactPerson: null,
  supplierEmail: null,
  supplierPhone: null,
  supplierConfirmationReference: null
}
[PATCH] /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30 - Update successful: {
  id: '4f356b33-7971-4274-8326-90bbd6fbcd30',
  lpoNumber: 'LPO-2494749SAU',
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  status: 'Confirmed',
  lpoDate: 2025-10-04T13:07:29.643Z,
  expectedDeliveryDate: 2025-10-05T00:00:00.000Z,
  requestedDeliveryDate: null,
  sourceType: 'SupplierQuote',
  sourceSalesOrderIds: null,
  sourceQuotationIds: [ '0580a4d3-4b2d-46b0-a865-5eac9f0a2727' ],
  groupingCriteria: 'supplier',
  subtotal: '10000.00',
  taxAmount: '0.00',
  totalAmount: '10000.00',
  currency: 'BHD',
  supplierContactPerson: null,
  supplierEmail: null,
  supplierPhone: null,
  paymentTerms: null,
  deliveryTerms: null,
  termsAndConditions: null,
  specialInstructions: null,
  version: 1,
  parentLpoId: null,
  amendmentReason: null,
  amendmentType: null,
  requiresApproval: false,
  approvalStatus: 'Not Required',
  approvedBy: null,
  approvedAt: null,
  approvalNotes: null,
  sentToSupplierAt: null,
  confirmedBySupplierAt: null,
  supplierConfirmationReference: null,
  createdBy: 'e459998e-0a4d-4652-946e-44b2ba161d16',
  createdAt: 2025-10-04T13:07:29.474Z,
  updatedAt: 2025-10-04T13:07:40.632Z
}
6:37:40 PM [express] PATCH /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30 200 in 285ms :: {‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos?limit=20&offset=0
[DEBUG][REQ] GET /api/supplier-lpos?limit=1000
6:37:41 PM [express] GET /api/supplier-lpos 200 in 841ms :: {"data":[{"id":"4f356b33-7971-4274-8326-‚Ä¶
6:37:43 PM [express] GET /api/supplier-lpos 200 in 2457ms :: {"data":[{"id":"4f356b33-7971-4274-8326‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos?status=Confirmed&limit=50
[DEBUG][REQ] GET /api/shipments?
[DEBUG][REQ] GET /api/carriers
[DEBUG][REQ] GET /favicon.ico
6:37:45 PM [express] GET /api/supplier-lpos 200 in 580ms :: {"data":[{"id":"4f356b33-7971-4274-8326-‚Ä¶
6:37:45 PM [express] GET /api/shipments 304 in 589ms :: [{"id":"43b24afd-f53c-4128-9eb2-ccbee9426ad7‚Ä¶
6:37:46 PM [express] GET /api/carriers 304 in 1689ms :: [{"id":"f4161276-5f20-465a-bbfc-8389bd9f1acc‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items
[DEBUG][REQ] GET /api/supplier-lpos/9da70959-9c53-4c12-8fcd-8a5bd18d594d/items
[DEBUG][REQ] GET /api/supplier-lpos/cdeb020e-d707-4ddb-8654-4a3b42215bd5/items
6:37:47 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 200 in 312ms ‚Ä¶
6:37:47 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 313ms ‚Ä¶
6:37:47 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 327ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/19d55f70-9e61-4eb3-b4fb-a2289ec2cf7c/items
[DEBUG][REQ] GET /api/supplier-lpos/ac9cb9b5-3a44-42b4-97aa-44fe5e51104b/items
[DEBUG][REQ] GET /api/supplier-lpos/550e8400-e29b-41d4-a716-446655440003/items
6:37:47 PM [express] GET /api/supplier-lpos/550e8400-e29b-41d4-a716-446655440003/items 304 in 276ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:37:47 PM [express] GET /api/supplier-lpos/ac9cb9b5-3a44-42b4-97aa-44fe5e51104b/items 304 in 281ms ‚Ä¶
6:37:47 PM [express] GET /api/supplier-lpos/19d55f70-9e61-4eb3-b4fb-a2289ec2cf7c/items 304 in 287ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:37:48 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 277ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:37:48 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 279ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:37:48 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 287ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:48 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 275ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:37:48 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 280ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:37:48 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 281ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:48 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 281ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:37:48 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 289ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:48 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 349ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:37:49 PM [express] GET /api/supplier-lpos/829c3d9b-88e4-4f08-bee7-89bcb12beffe/items 304 in 1669ms‚Ä¶
6:37:49 PM [express] GET /api/supplier-lpos/9da70959-9c53-4c12-8fcd-8a5bd18d594d/items 304 in 1681ms‚Ä¶
6:37:49 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 281ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:37:49 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 291ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:49 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 283ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:37:49 PM [express] GET /api/supplier-lpos/cdeb020e-d707-4ddb-8654-4a3b42215bd5/items 304 in 1688ms‚Ä¶
6:37:49 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 279ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:37:49 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 306ms ‚Ä¶
6:37:49 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 288ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:37:49 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 281ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:37:49 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 279ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:49 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 289ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:37:49 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 279ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:37:50 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 276ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:50 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 282ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:37:50 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 279ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:37:50 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 280ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:50 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 280ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:37:50 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 278ms ‚Ä¶
6:37:50 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 277ms ‚Ä¶
6:37:50 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 278ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:53 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 287ms ‚Ä¶
6:37:53 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 304ms ‚Ä¶
6:37:53 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 302ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:56 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 282ms ‚Ä¶
6:37:56 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 300ms ‚Ä¶
6:37:56 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 303ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:58 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 281ms ‚Ä¶
6:37:58 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 287ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:58 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 301ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:37:58 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 291ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:58 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 277ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:37:58 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 291ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:37:59 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 279ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:59 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 285ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:37:59 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 289ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:37:59 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 282ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:37:59 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 276ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:37:59 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 325ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:37:59 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 282ms ‚Ä¶
6:37:59 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 277ms ‚Ä¶
6:37:59 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 300ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:00 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 280ms ‚Ä¶
6:38:00 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 281ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:00 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 322ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:38:00 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 279ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:01 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 359ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:38:01 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 347ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:38:01 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 277ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:01 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 279ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:38:01 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 338ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:38:01 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 277ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:01 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 366ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:38:01 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 328ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:38:01 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 278ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:01 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 287ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:38:02 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 334ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:38:02 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 280ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:02 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 293ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:38:02 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 277ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:02 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 332ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:38:02 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 296ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:38:02 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 289ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:02 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 308ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:38:02 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 287ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:38:02 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 280ms ‚Ä¶
6:38:03 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 289ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:38:03 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 291ms ‚Ä¶
6:38:03 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 287ms ‚Ä¶
[DEBUG][REQ] POST /api/shipments
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:04 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 279ms ‚Ä¶
6:38:04 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 281ms ‚Ä¶
6:38:05 PM [express] POST /api/shipments 201 in 842ms :: {"id":"6813069f-5b5f-43f2-be4b-387b78e5cb2b‚Ä¶
[DEBUG][REQ] GET /api/shipments?
[DEBUG][REQ] GET /api/supplier-lpos?status=Confirmed&limit=50
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:38:05 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 306ms ‚Ä¶
6:38:06 PM [express] GET /api/shipments 200 in 577ms :: [{"id":"6813069f-5b5f-43f2-be4b-387b78e5cb2b‚Ä¶
6:38:06 PM [express] GET /api/supplier-lpos 304 in 597ms :: {"data":[{"id":"4f356b33-7971-4274-8326-‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
6:38:06 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 1688ms‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:06 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 285ms ‚Ä¶
6:38:06 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 301ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:06 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 297ms ‚Ä¶
6:38:07 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 1613ms‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:38:07 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 277ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:10 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 291ms ‚Ä¶
6:38:10 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 287ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:10 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 312ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:38:11 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 281ms ‚Ä¶
6:38:11 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 312ms ‚Ä¶
6:38:11 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 392ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:12 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 279ms ‚Ä¶
6:38:12 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 307ms ‚Ä¶
6:38:12 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 323ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:13 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 282ms ‚Ä¶
6:38:13 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 316ms ‚Ä¶
6:38:13 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 324ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:15 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 289ms ‚Ä¶
6:38:15 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 281ms ‚Ä¶
6:38:15 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 328ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:17 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 280ms ‚Ä¶
6:38:17 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 284ms ‚Ä¶
6:38:17 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 298ms ‚Ä¶
[DEBUG][REQ] PUT /api/shipments/6813069f-5b5f-43f2-be4b-387b78e5cb2b
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:19 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 278ms ‚Ä¶
6:38:19 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 280ms ‚Ä¶
6:38:19 PM [express] PUT /api/shipments/6813069f-5b5f-43f2-be4b-387b78e5cb2b 200 in 853ms :: {"id":"‚Ä¶
[DEBUG][REQ] GET /api/shipments?
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:38:19 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 279ms ‚Ä¶
6:38:19 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 287ms ‚Ä¶
6:38:20 PM [express] GET /api/shipments 200 in 553ms :: [{"id":"6813069f-5b5f-43f2-be4b-387b78e5cb2b‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items
[DEBUG][REQ] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items
6:38:20 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 1662ms‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:20 PM [express] GET /api/supplier-lpos/4f356b33-7971-4274-8326-90bbd6fbcd30/items 304 in 280ms ‚Ä¶
6:38:20 PM [express] GET /api/supplier-lpos/8c4aeafb-a9fe-4f6b-9757-547f8f319647/items 304 in 282ms ‚Ä¶
6:38:20 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 287ms ‚Ä¶
[DEBUG][REQ] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items
6:38:20 PM [express] GET /api/supplier-lpos/8fcf2730-e258-4c82-94f9-ed703d524ccb/items 304 in 288ms ‚Ä¶
[DEBUG][REQ] GET /api/shipments?status=Delivered&limit=50
[DEBUG][REQ] GET /api/supplier-lpos
[DEBUG][REQ] GET /api/goods-receipt-headers
[DEBUG][REQ] GET /favicon.ico
6:38:23 PM [express] GET /api/shipments 200 in 329ms :: [{"id":"6813069f-5b5f-43f2-be4b-387b78e5cb2b‚Ä¶
6:38:23 PM [express] GET /api/goods-receipt-headers 304 in 579ms :: [{"id":"d3221b16-2fe4-4b0b-b7e0-‚Ä¶
6:38:23 PM [express] GET /api/supplier-lpos 200 in 863ms :: {"data":[{"id":"4f356b33-7971-4274-8326-‚Ä¶
[DEBUG][REQ] POST /api/goods-receipt-headers
[GR HEADER][RAW BODY] {
  receiptNumber: 'GRN-20251004-GNSUC',
  supplierLpoId: '4f356b33-7971-4274-8326-90bbd6fbcd30',
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  receiptDate: '2025-10-04',
  expectedDeliveryDate: '2025-10-05',
  actualDeliveryDate: '2025-10-04',
  receivedBy: 'system',
  status: 'Draft',
  notes: 'Generated from shipment SHP-TEMP-1759583284503. Supplier: Sleeploop India Pvt Ltd. Customer: Unknown Customer. LPO: LPO-2494749SAU Value: BHD 10,000.',
  lpoNumber: 'LPO-2494749SAU',
  totalItems: 1,
  totalQuantityExpected: 100,
  totalQuantityReceived: 0,
  discrepancyFlag: false
}
[GR HEADER][PARSED] {
  receiptNumber: 'GRN-20251004-GNSUC',
  supplierLpoId: '4f356b33-7971-4274-8326-90bbd6fbcd30',
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  lpoNumber: 'LPO-2494749SAU',
  receiptDate: '2025-10-04',
  expectedDeliveryDate: '2025-10-05',
  actualDeliveryDate: '2025-10-04',
  receivedBy: 'system',
  status: 'Draft',
  notes: 'Generated from shipment SHP-TEMP-1759583284503. Supplier: Sleeploop India Pvt Ltd. Customer: Unknown Customer. LPO: LPO-2494749SAU Value: BHD 10,000.',
  totalItems: 1,
  totalQuantityExpected: 100,
  totalQuantityReceived: 0,
  discrepancyFlag: false
}
[GoodsReceiptStorage.createGoodsReceiptHeader][START] {
  incoming: {
    receiptNumber: 'GRN-20251004-GNSUC',
    supplierLpoId: '4f356b33-7971-4274-8326-90bbd6fbcd30',
    supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
    lpoNumber: 'LPO-2494749SAU',
    receiptDate: '2025-10-04',
    expectedDeliveryDate: '2025-10-05',
    actualDeliveryDate: '2025-10-04',
    receivedBy: 'system',
    status: 'Draft',
    notes: 'Generated from shipment SHP-TEMP-1759583284503. Supplier: Sleeploop India Pvt Ltd. Customer: Unknown Customer. LPO: LPO-2494749SAU Value: BHD 10,000.',
    totalItems: 1,
    totalQuantityExpected: 100,
    totalQuantityReceived: 0,
    discrepancyFlag: false
  }
}
[GoodsReceiptStorage.createGoodsReceiptHeader][ID RESOLUTION] { assignedId: '3def2303-a808-4115-a7db-4e80f5baa514' }
[GoodsReceiptStorage.createGoodsReceiptHeader][PROJECTED] {
  id: '3def2303-a808-4115-a7db-4e80f5baa514',
  receiptNumber: 'GRN-20251004-GNSUC',
  supplierLpoId: '4f356b33-7971-4274-8326-90bbd6fbcd30',
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  lpoNumber: 'LPO-2494749SAU',
  receiptDate: '2025-10-04',
  expectedDeliveryDate: '2025-10-05',
  actualDeliveryDate: '2025-10-04',
  receivedBy: 'system',
  status: 'Draft',
  notes: 'Generated from shipment SHP-TEMP-1759583284503. Supplier: Sleeploop India Pvt Ltd. Customer: Unknown Customer. LPO: LPO-2494749SAU Value: BHD 10,000.',
  totalItems: 1,
  totalQuantityExpected: 100,
  totalQuantityReceived: 0,
  discrepancyFlag: false
}
[GoodsReceiptStorage.createGoodsReceiptHeader][PRIMARY OK] { id: '3def2303-a808-4115-a7db-4e80f5baa514' }
[GR HEADER][CREATED] {
  id: '3def2303-a808-4115-a7db-4e80f5baa514',
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  status: 'Draft',
  processingMs: 889
}
6:38:34 PM [express] POST /api/goods-receipt-headers 201 in 891ms :: {"id":"3def2303-a808-4115-a7db-‚Ä¶
[DEBUG][REQ] GET /api/goods-receipt-headers
[DEBUG][REQ] GET /api/supplier-lpos
6:38:35 PM [express] GET /api/goods-receipt-headers 200 in 587ms :: [{"id":"3def2303-a808-4115-a7db-‚Ä¶
6:38:36 PM [express] GET /api/supplier-lpos 304 in 2248ms :: {"data":[{"id":"4f356b33-7971-4274-8326‚Ä¶
[DEBUG][REQ] PATCH /api/goods-receipt-headers/3def2303-a808-4115-a7db-4e80f5baa514/status
[GoodsReceiptStorage.updateGoodsReceiptStatus][START] { id: '3def2303-a808-4115-a7db-4e80f5baa514', status: 'Complete' }
[GoodsReceiptStorage.updateGoodsReceiptStatus][SUCCESS] { id: '3def2303-a808-4115-a7db-4e80f5baa514' }
6:38:43 PM [express] PATCH /api/goods-receipt-headers/3def2303-a808-4115-a7db-4e80f5baa514/status 20‚Ä¶
[DEBUG][REQ] GET /api/goods-receipt-headers/3def2303-a808-4115-a7db-4e80f5baa514
[DEBUG][REQ] GET /api/goods-receipt-headers
6:38:44 PM [express] GET /api/goods-receipt-headers/3def2303-a808-4115-a7db-4e80f5baa514 200 in 283m‚Ä¶
[DEBUG][REQ] POST /api/purchase-invoices
[PurchaseInvoiceStorage.createPurchaseInvoice][START] {
  invoiceNumber: 'PI-20251004-XL4CM',
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  goodsReceiptId: '3def2303-a808-4115-a7db-4e80f5baa514',
  lpoId: '4f356b33-7971-4274-8326-90bbd6fbcd30',
  status: 'Draft',
  paymentStatus: 'Unpaid',
  invoiceDate: '2025-10-04',
  dueDate: '2025-10-05',
  receivedDate: '2025-10-04',
  subtotal: '100',
  taxAmount: '0.00',
  discountAmount: '0.00',
  totalAmount: '100',
  paidAmount: '0.00',
  remainingAmount: '100',
  currency: 'BHD',
  paymentTerms: 'Generated from shipment SHP-TEMP-1759583284503. Supplier: Sleeploop India Pvt Ltd. Customer: Unknown Customer. LPO: LPO-2494749SAU Value: BHD 10,000.',
  notes: 'Generated from completed goods receipt GRN-20251004-GNSUC. LPO: LPO-2494749SAU',
  attachments: [],
  isRecurring: false
}
[PurchaseInvoiceStorage.createPurchaseInvoice][SUCCESS] {
  id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0',
  invoiceNumber: 'PI-20251004-XL4CM',
  supplierInvoiceNumber: null,
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  goodsReceiptId: '3def2303-a808-4115-a7db-4e80f5baa514',
  lpoId: '4f356b33-7971-4274-8326-90bbd6fbcd30',
  status: 'Draft',
  paymentStatus: 'Unpaid',
  invoiceDate: '2025-10-04',
  dueDate: '2025-10-05',
  receivedDate: '2025-10-04',
  paymentDate: null,
  subtotal: '100.00',
  taxAmount: '0.00',
  discountAmount: '0.00',
  totalAmount: '100.00',
  paidAmount: '0.00',
  remainingAmount: '100.00',
  currency: 'BHD',
  paymentTerms: 'Generated from shipment SHP-TEMP-1759583284503. Supplier: Sleeploop India Pvt Ltd. Customer: Unknown Customer. LPO: LPO-2494749SAU Value: BHD 10,000.',
  notes: 'Generated from completed goods receipt GRN-20251004-GNSUC. LPO: LPO-2494749SAU',
  attachments: [],
  isRecurring: false,
  createdAt: 2025-10-04T13:08:44.573Z,
  updatedAt: 2025-10-04T13:08:44.573Z
}
6:38:44 PM [express] POST /api/purchase-invoices 201 in 292ms :: {"id":"4903a7fc-a2ea-46ba-8042-e7a5‚Ä¶
6:38:44 PM [express] GET /api/goods-receipt-headers 200 in 593ms :: [{"id":"3def2303-a808-4115-a7db-‚Ä¶
[DEBUG][REQ] GET /api/purchase-invoices?
[PurchaseInvoiceStorage.getPurchaseInvoices][START] {}
[DEBUG][REQ] GET /favicon.ico
[PurchaseInvoiceStorage.getPurchaseInvoices][SUCCESS] 4 records
6:38:47 PM [express] GET /api/purchase-invoices 200 in 302ms :: [{"id":"4903a7fc-a2ea-46ba-8042-e7a5‚Ä¶
[DEBUG][REQ] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0
[PurchaseInvoiceStorage.getPurchaseInvoice][START] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
[DEBUG][REQ] GET /favicon.ico
[PurchaseInvoiceStorage.getPurchaseInvoice][SUCCESS] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
6:38:50 PM [express] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0 200 in 297ms ::‚Ä¶
[DEBUG][REQ] GET /api/goods-receipt-headers/3def2303-a808-4115-a7db-4e80f5baa514/items
6:38:50 PM [express] GET /api/goods-receipt-headers/3def2303-a808-4115-a7db-4e80f5baa514/items 200 i‚Ä¶
[DEBUG][REQ] PATCH /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0
[PurchaseInvoiceStorage.updatePurchaseInvoice][START] {
  id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0',
  data: {
    invoiceNumber: 'PI-20251004-XL4CM',
    supplierInvoiceNumber: null,
    lpoId: '4f356b33-7971-4274-8326-90bbd6fbcd30',
    status: 'Approved',
    paymentStatus: 'Paid',
    invoiceDate: '2025-10-04',
    dueDate: '2025-10-05',
    receivedDate: '2025-10-04',
    paymentDate: null,
    subtotal: '100.00',
    taxAmount: '0.00',
    discountAmount: '0.00',
    totalAmount: '100.00',
    paidAmount: '0.00',
    remainingAmount: '100.00',
    currency: 'BHD',
    paymentTerms: 'Generated from shipment SHP-TEMP-1759583284503. Supplier: Sleeploop India Pvt Ltd. Customer: Unknown Customer. LPO: LPO-2494749SAU Value: BHD 10,000.',
    notes: 'Generated from completed goods receipt GRN-20251004-GNSUC. LPO: LPO-2494749SAU',
    attachments: [],
    isRecurring: false
  }
}
[PurchaseInvoiceStorage.updatePurchaseInvoice][SUCCESS] {
  id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0',
  invoiceNumber: 'PI-20251004-XL4CM',
  supplierInvoiceNumber: null,
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  goodsReceiptId: '3def2303-a808-4115-a7db-4e80f5baa514',
  lpoId: '4f356b33-7971-4274-8326-90bbd6fbcd30',
  status: 'Approved',
  paymentStatus: 'Paid',
  invoiceDate: '2025-10-04',
  dueDate: '2025-10-05',
  receivedDate: '2025-10-04',
  paymentDate: null,
  subtotal: '100.00',
  taxAmount: '0.00',
  discountAmount: '0.00',
  totalAmount: '100.00',
  paidAmount: '0.00',
  remainingAmount: '100.00',
  currency: 'BHD',
  paymentTerms: 'Generated from shipment SHP-TEMP-1759583284503. Supplier: Sleeploop India Pvt Ltd. Customer: Unknown Customer. LPO: LPO-2494749SAU Value: BHD 10,000.',
  notes: 'Generated from completed goods receipt GRN-20251004-GNSUC. LPO: LPO-2494749SAU',
  attachments: [],
  isRecurring: false,
  createdAt: 2025-10-04T13:08:44.573Z,
  updatedAt: 2025-10-04T13:09:01.736Z
}
6:39:02 PM [express] PATCH /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0 200 in 287ms ‚Ä¶
[DEBUG][REQ] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0
[PurchaseInvoiceStorage.getPurchaseInvoice][START] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
[PurchaseInvoiceStorage.getPurchaseInvoice][SUCCESS] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
6:39:02 PM [express] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0 200 in 293ms ::‚Ä¶
[DEBUG][REQ] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0
[PurchaseInvoiceStorage.getPurchaseInvoice][START] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
[PurchaseInvoiceStorage.getPurchaseInvoice][SUCCESS] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
6:39:02 PM [express] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0 304 in 285ms ::‚Ä¶
[DEBUG][REQ] PATCH /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0
[PurchaseInvoiceStorage.updatePurchaseInvoice][START] {
  id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0',
  data: {
    paidAmount: '100',
    remainingAmount: '0',
    status: 'Paid',
    paymentStatus: 'Paid',
    paymentDate: '2025-10-04',
    notes: 'Generated from completed goods receipt GRN-20251004-GNSUC. LPO: LPO-2494749SAU\n' +
      '\n' +
      'Payment recorded: 100 BHD via Cash on 10/4/2025. Reference: . '
  }
}
[PurchaseInvoiceStorage.updatePurchaseInvoice][SUCCESS] {
  id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0',
  invoiceNumber: 'PI-20251004-XL4CM',
  supplierInvoiceNumber: null,
  supplierId: '3f8e2bd3-01ca-4c59-a69e-7bf9e40bfea5',
  goodsReceiptId: '3def2303-a808-4115-a7db-4e80f5baa514',
  lpoId: '4f356b33-7971-4274-8326-90bbd6fbcd30',
  status: 'Paid',
  paymentStatus: 'Paid',
  invoiceDate: '2025-10-04',
  dueDate: '2025-10-05',
  receivedDate: '2025-10-04',
  paymentDate: '2025-10-04',
  subtotal: '100.00',
  taxAmount: '0.00',
  discountAmount: '0.00',
  totalAmount: '100.00',
  paidAmount: '100.00',
  remainingAmount: '0.00',
  currency: 'BHD',
  paymentTerms: 'Generated from shipment SHP-TEMP-1759583284503. Supplier: Sleeploop India Pvt Ltd. Customer: Unknown Customer. LPO: LPO-2494749SAU Value: BHD 10,000.',
  notes: 'Generated from completed goods receipt GRN-20251004-GNSUC. LPO: LPO-2494749SAU\n' +
    '\n' +
    'Payment recorded: 100 BHD via Cash on 10/4/2025. Reference: . ',
  attachments: [],
  isRecurring: false,
  createdAt: 2025-10-04T13:08:44.573Z,
  updatedAt: 2025-10-04T13:09:12.465Z
}
6:39:12 PM [express] PATCH /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0 200 in 304ms ‚Ä¶
[DEBUG][REQ] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0
[PurchaseInvoiceStorage.getPurchaseInvoice][START] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
[PurchaseInvoiceStorage.getPurchaseInvoice][SUCCESS] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
6:39:13 PM [express] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0 200 in 295ms ::‚Ä¶
[DEBUG][REQ] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0
[PurchaseInvoiceStorage.getPurchaseInvoice][START] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
[PurchaseInvoiceStorage.getPurchaseInvoice][SUCCESS] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
6:39:13 PM [express] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0 304 in 298ms ::‚Ä¶
[DEBUG][REQ] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0/pdf?mode=enhanced
[PurchaseInvoiceStorage.getPurchaseInvoice][START] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
[PurchaseInvoiceStorage.getPurchaseInvoice][SUCCESS] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
Of the table content, 86 units width could not fit page
6:39:17 PM [express] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0/pdf 200 in 947ms
[DEBUG][REQ] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0/pdf?mode=enhanced
[PurchaseInvoiceStorage.getPurchaseInvoice][START] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
[PurchaseInvoiceStorage.getPurchaseInvoice][SUCCESS] { id: '4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0' }
Of the table content, 86 units width could not fit page
6:39:25 PM [express] GET /api/purchase-invoices/4903a7fc-a2ea-46ba-8042-e7a5ab8f4cd0/pdf 200 in 866ms
[DEBUG][REQ] GET /api/purchase-invoices?
[PurchaseInvoiceStorage.getPurchaseInvoices][START] {}
[DEBUG][REQ] GET /favicon.ico
[PurchaseInvoiceStorage.getPurchaseInvoices][SUCCESS] 4 records
6:39:34 PM [express] GET /api/purchase-invoices 200 in 311ms :: [{"id":"4903a7fc-a2ea-46ba-8042-e7a5‚Ä¶
